<?xml version="1.0" encoding="utf-8" ?>
<control xmlns:def="Definition" xmlns="http://schemas.sitecore.net/Visual-Studio-Intellisense">
   <IndexingManager>
      <script type="text/javascript">
         function toggleAllBoxes(source) {
         var checkboxes = document.getElementsByTagName('input');

         for(var i in checkboxes)
         checkboxes[i].checked = true;
         }

         function toggleAllBoxesOff(source) {
         var checkboxes = document.getElementsByTagName('input');

         for(var i in checkboxes)
         checkboxes[i].checked = false;
         }
      </script>
      <WizardForm Application="Search/RebuildSearchIndex" CodeBeside="Sitecore.ContentSearch.Client.Forms.IndexingManagerWizard, Sitecore.ContentSearch.Client">

         <WizardFormFirstPage ID="FirstPage" Icon="Database/32x32/db_sql_execute_h.png">
            <Border Class="scWizardWelcomeTitle">
               <Literal Text="Welcome to the Indexing Manager"/>
            </Border>
            <Literal Text="This wizard helps you:"/>
            <ul>
               <li class="scWizardBullet">
                  <Literal Text="View Index Statistics"/>
               </li>
               <li class="scWizardBullet">
                  <Literal Text="Rebuild the search index."/>
               </li>
            </ul>
         </WizardFormFirstPage>

         <WizardFormPage ID="Setup" Header="Select Search Index" Text="Select the search index that you want to rebuild. You can rebuild more than one index at a time. Click Rebuild to rebuild the search index." Icon="Database/32x32/db_sql_execute_h.png">
            <WizardFormPadding>
               <Scrollbox Border="none" Background="transparent">
                  <GridPanel Cellpadding="2" Width="40%" Height="100%" Style="float:left;">
                     <Groupbox Header="Rebuild Search Index" Margin="16px 0px 16px 0px" Height="100%" Style="height:100%;">
                        <br/>
                        <span style="padding-right:5px;font-weight:bold;">
                           <a href="#" id="dk_selectall_label" onclick="toggleAllBoxes(this)">
                              <Literal Text="Select All" />
                           </a>
                        </span>

                        <span style="padding-right:5px;font-weight:bold;">
                           <a href="#" id="dk_deselectall_label" onclick="toggleAllBoxesOff(this)">
                              <Literal Text="Unselect All" />
                           </a>
                        </span>
                        <br/>
                        <Border ID="Indexes" Padding="4px">
                        </Border>

                     </Groupbox>
                  </GridPanel>
                  <GridPanel Cellpadding="2" Width="60%" Height="100%" Style="float:left;height:100%;">
                     <Groupbox Header="Index Statistics" Margin="16px 0px 16px 0px" Height="100%" Style="height:100%;">
                        <Border ID="IndexStats" Padding="4px" Height="100%" Style="height:100%;">

                        </Border>
                     </Groupbox>
                  </GridPanel>
               </Scrollbox>
            </WizardFormPadding>
         </WizardFormPage>

         <WizardFormPage ID="Rebuilding" Header="Rebuilding" Text="Please wait while rebuilding..." Icon="Database/32x32/db_sql_execute_h.png">
            <GridPanel Width="100%">

               <Space Height="10"/>
               <ThemedImage Src="Database/64x64/db_sql_execute_h.png" Width="64" Height="64" GridPanel.Align="center"/>

               <Space Height="10"/>

               <Border Align="center">
                  <ThemedImage Src="Images/progress.gif" Width="94" Height="17"/>
               </Border>

               <Space Height="16"/>

               <Border ID="Text" Align="center" GridPanel.Align="center" GridPanel.Style="font-weight:bold">
                  <Literal Text="Rebuilding..."/>
               </Border>
               <Space Height="16"/>
               <Border ID="Status" Align="center" GridPanel.Align="center">

               </Border>

            </GridPanel>


         </WizardFormPage>

         <WizardFormPage ID="Retry" Header="Error" Text="An error occurred while rebuilding the search index." Icon="Applications/32x32/find.png">
            <WizardFormPadding>
               <GridPanel Width="100%" Height="100%" Fixed="true">
                  <Memo ID="ErrorText" ReadOnly="true" Width="100%" Height="100%"/>
               </GridPanel>
            </WizardFormPadding>
         </WizardFormPage>

         <WizardFormLastPage ID="LastPage" Icon="Database/32x32/db_sql_execute_h.png">
            <GridPanel Cellpadding="2" Width="100%" Height="100%" Fixed="true">

               <Border GridPanel.Style="padding:0px 0px 16px 0px; font-weight:bold">
                  <Literal Text="The wizard has completed. Click Finish to close the wizard."/>
               </Border>

               <Border GridPanel.Style="padding:0px 0px 2px 0px">
                  <Literal Text="Result:"/>
               </Border>

               <Memo ID="ResultText" ReadOnly="true" Width="100%" Height="100%" GridPanel.Height="100%"/>

            </GridPanel>
         </WizardFormLastPage>

      </WizardForm>
   </IndexingManager>
</control>