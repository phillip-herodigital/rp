!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.SpeakObservableArray=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=0,d=function(){var a=++c+"";return prefix?prefix+a:a},e=/\s+/,f=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},g=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var f in c)a[b].apply(a,[f,c[f]].concat(d));return!1}if(e.test(c)){for(var g=c.split(e),h=0,i=g.length;i>h;h++)a[b].apply(a,[g[h]].concat(d));return!1}return!0},h={on:function(a,b,c){if(!g(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!g(this,"once",a,[b,c])||!b)return this;var d=this,e=_.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,h,i,j,k,l;if(!this._events||!g(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(h=a?[a]:Object.keys(this._events),i=0,j=h.length;j>i;i++)if(a=h[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(k=0,l=f.length;l>k;k++)e=f[k],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=Array.prototype.slice.call(arguments,1);if(!g(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&f(c,b),d&&f(d,arguments),this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!=typeof b||(c=this),a&&((d={})[a._listenId]=a);for(var f in d)a=d[f],a.off(b,c,this),(e||0===Object.keys(a._events))&&delete this._listeningTo[f];return this}},i={listenTo:"on",listenToOnce:"once"};for(var j in i){var k=i[j],l=j;h[l]=function(a,b,c){var e=this._listeningTo||(this._listeningTo={}),f=a._listenId||(a._listenId=d("l"));return e[f]=a,c||"object"!=typeof b||(c=this),a[k](b,c,this),this}}b.exports=h},{}],2:[function(a,b){var c=a("speakevent"),d=Object.getOwnPropertyNames(Array.prototype),e=function(a){this.array=a};e.prototype.actionList={join:["change","join"],pop:["remove","change","pop"],slice:["change","slice"],push:["add","change","push"],concat:["add","change","concat"],shift:["remove","change","shift"],unshift:["add","change","unshift"],reverse:["change","reverse"],sort:["change","sort"]},d.forEach(function(a){if("length"!==a){var b=e.prototype.actionList[a];e.prototype[a]=b&&"toString"!==a?function(){var b=this,c=arguments,d=this.array,e=Array.prototype[a].apply(d,arguments),f=this.actionList[a];return f.forEach(function(a){b.trigger(a,c[0])}),e}:function(){var b=(this.array,Array.prototype[a].apply(this.array,arguments));return b}}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.array.length},set:function(a){var b=this.array.length;if(a>b)for(var c=b;a>c;c++)this.push(void 0);else this.array.length=a}});for(var f in c)c.hasOwnProperty(f)&&(e.prototype[f]=c[f]);"undefined"!=typeof window&&(window.SpeakObservableArray=e),b.exports=e},{speakevent:1}]},{},[2])(2)});