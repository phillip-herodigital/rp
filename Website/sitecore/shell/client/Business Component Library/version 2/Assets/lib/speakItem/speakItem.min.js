!function(n){if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);t.speakItem=n()}}(function(){return function n(t,i,r){function u(f,o){var h,s;if(!i[f]){if(!t[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);throw new Error("Cannot find module '"+f+"'");}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){function i(n){for(var i=-1,u=n?n.length:0,f=-1,r=[],t;++i<u;)t=n[i],t&&(r[++f]=t);return r}t.exports=i},{}],2:[function(n,t){function e(n,t,e){var o=f(n)?i:u;return t=r(t,e,3),o(n,t)}var i=n("../internal/arrayFilter"),r=n("../internal/baseCallback"),u=n("../internal/baseFilter"),f=n("../lang/isArray");t.exports=e},{"../internal/arrayFilter":6,"../internal/baseCallback":9,"../internal/baseFilter":11,"../lang/isArray":40}],3:[function(n,t){var i=n("../internal/baseEach"),r=n("../internal/createFind"),u=r(i);t.exports=u},{"../internal/baseEach":10,"../internal/createFind":28}],4:[function(n,t){function e(n,t,e){var o=f(n)?i:u;return t=r(t,e,3),o(n,t)}var i=n("../internal/arrayMap"),r=n("../internal/baseCallback"),u=n("../internal/baseMap"),f=n("../lang/isArray");t.exports=e},{"../internal/arrayMap":7,"../internal/baseCallback":9,"../internal/baseMap":19,"../lang/isArray":40}],5:[function(n,t){var i=n("../internal/arrayReduce"),r=n("../internal/baseEach"),u=n("../internal/createReduce"),f=u(i,r);t.exports=f},{"../internal/arrayReduce":8,"../internal/baseEach":10,"../internal/createReduce":29}],6:[function(n,t){function i(n,t){for(var i=-1,f=n.length,e=-1,u=[],r;++i<f;)r=n[i],t(r,i,n)&&(u[++e]=r);return u}t.exports=i},{}],7:[function(n,t){function i(n,t){for(var i=-1,r=n.length,u=Array(r);++i<r;)u[i]=t(n[i],i,n);return u}t.exports=i},{}],8:[function(n,t){function i(n,t,i,r){var u=-1,f=n.length;for(r&&f&&(i=n[++u]);++u<f;)i=t(i,n[u],u,n);return i}t.exports=i},{}],9:[function(n,t){function o(n,t,o){var s=typeof n;return s=="function"?typeof t=="undefined"?n:f(n,t,o):n==null?e:s=="object"?i(n):typeof t=="undefined"?u(n+""):r(n+"",t)}var i=n("./baseMatches"),r=n("./baseMatchesProperty"),u=n("./baseProperty"),f=n("./bindCallback"),e=n("../utility/identity");t.exports=o},{"../utility/identity":51,"./baseMatches":20,"./baseMatchesProperty":21,"./baseProperty":22,"./bindCallback":25}],10:[function(n,t){var i=n("./baseForOwn"),r=n("./createBaseEach"),u=r(i);t.exports=u},{"./baseForOwn":15,"./createBaseEach":26}],11:[function(n,t){function r(n,t){var r=[];return i(n,function(n,i,u){t(n,i,u)&&r.push(n)}),r}var i=n("./baseEach");t.exports=r},{"./baseEach":10}],12:[function(n,t){function i(n,t,i,r){var u;return i(n,function(n,i,f){if(t(n,i,f))return u=r?i:n,!1}),u}t.exports=i},{}],13:[function(n,t){function i(n,t,i){for(var u=n.length,r=i?u:-1;i?r--:++r<u;)if(t(n[r],r,n))return r;return-1}t.exports=i},{}],14:[function(n,t){var i=n("./createBaseFor"),r=i();t.exports=r},{"./createBaseFor":27}],15:[function(n,t){function u(n,t){return i(n,t,r)}var i=n("./baseFor"),r=n("../object/keys");t.exports=u},{"../object/keys":45,"./baseFor":14}],16:[function(n,t){function i(n,t,u,f,e,o){if(n===t)return n!==0||1/n==1/t;var s=typeof n,h=typeof t;return s!="function"&&s!="object"&&h!="function"&&h!="object"||n==null||t==null?n!==n&&t!==t:r(n,t,i,u,f,e,o)}var r=n("./baseIsEqualDeep");t.exports=i},{"./baseIsEqualDeep":17}],17:[function(n,t){function y(n,t,s,y,p,w,b){var g=r(n),ft=r(t),k=e,d=e,rt,ut,nt,ot;g||(k=c.call(n),k==f?k=i:k!=i&&(g=u(n)));ft||(d=c.call(t),d==f?d=i:d!=i&&(ft=u(t)));var tt=k==i||p&&k==o,et=d==i||p&&d==o,it=k==d;if(it&&!(g||tt))return a(n,t,k);if(p){if(!it&&!(tt&&et))return!1}else{if(rt=tt&&h.call(n,"__wrapped__"),ut=et&&h.call(t,"__wrapped__"),rt||ut)return s(rt?n.value():n,ut?t.value():t,y,p,w,b);if(!it)return!1}for(w||(w=[]),b||(b=[]),nt=w.length;nt--;)if(w[nt]==n)return b[nt]==t;return w.push(n),b.push(t),ot=(g?l:v)(n,t,s,y,p,w,b),w.pop(),b.pop(),ot}var l=n("./equalArrays"),a=n("./equalByTag"),v=n("./equalObjects"),r=n("../lang/isArray"),u=n("../lang/isTypedArray"),f="[object Arguments]",e="[object Array]",o="[object Function]",i="[object Object]",s=Object.prototype,h=s.hasOwnProperty,c=s.toString;t.exports=y},{"../lang/isArray":40,"../lang/isTypedArray":44,"./equalArrays":30,"./equalByTag":31,"./equalObjects":32}],18:[function(n,t){function r(n,t,r,u,f){for(var e=-1,c=t.length,l=!f,o;++e<c;)if(l&&u[e]?r[e]!==n[t[e]]:!(t[e]in n))return!1;for(e=-1;++e<c;){var s=t[e],h=n[s],a=r[e];if(l&&u[e]?o=typeof h!="undefined"||s in n:(o=f?f(h,a,s):undefined,typeof o=="undefined"&&(o=i(a,h,f,!0))),!o)return!1}return!0}var i=n("./baseIsEqual");t.exports=r},{"./baseIsEqual":16}],19:[function(n,t){function r(n,t){var r=[];return i(n,function(n,i,u){r.push(t(n,i,u))}),r}var i=n("./baseEach");t.exports=r},{"./baseEach":10}],20:[function(n,t){function o(n){var s=e(n),t=s.length,h,o,c,l;if(!t)return f(!0);if(t==1&&(h=s[0],o=n[h],i(o)))return function(n){return n!=null&&n[h]===o&&(typeof o!="undefined"||h in r(n))};for(c=Array(t),l=Array(t);t--;)o=n[s[t]],c[t]=o,l[t]=i(o);return function(n){return n!=null&&u(r(n),s,c,l)}}var u=n("./baseIsMatch"),f=n("../utility/constant"),i=n("./isStrictComparable"),e=n("../object/keys"),r=n("./toObject");t.exports=o},{"../object/keys":45,"../utility/constant":50,"./baseIsMatch":18,"./isStrictComparable":36,"./toObject":38}],21:[function(n,t){function f(n,t){return r(t)?function(i){return i!=null&&i[n]===t&&(typeof t!="undefined"||n in u(i))}:function(r){return r!=null&&i(t,r[n],null,!0)}}var i=n("./baseIsEqual"),r=n("./isStrictComparable"),u=n("./toObject");t.exports=f},{"./baseIsEqual":16,"./isStrictComparable":36,"./toObject":38}],22:[function(n,t){function i(n){return function(t){return t==null?undefined:t[n]}}t.exports=i},{}],23:[function(n,t){function i(n,t,i,r,u){return u(n,function(n,u,f){i=r?(r=!1,n):t(i,n,u,f)}),i}t.exports=i},{}],24:[function(n,t){function i(n){return typeof n=="string"?n:n==null?"":n+""}t.exports=i},{}],25:[function(n,t){function r(n,t,r){if(typeof n!="function")return i;if(typeof t=="undefined")return n;switch(r){case 1:return function(i){return n.call(t,i)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)};case 5:return function(i,r,u,f,e){return n.call(t,i,r,u,f,e)}}return function(){return n.apply(t,arguments)}}var i=n("../utility/identity");t.exports=r},{"../utility/identity":51}],26:[function(n,t){function u(n,t){return function(u,f){var o=u?u.length:0,e,s;if(!i(o))return n(u,f);for(e=t?o:-1,s=r(u);t?e--:++e<o;)if(f(s[e],e,s)===!1)break;return u}}var i=n("./isLength"),r=n("./toObject");t.exports=u},{"./isLength":34,"./toObject":38}],27:[function(n,t){function r(n){return function(t,r,u){for(var o=i(t),s=u(t),h=s.length,f=n?h:-1,e;n?f--:++f<h;)if(e=s[f],r(o[e],e,o)===!1)break;return t}}var i=n("./toObject");t.exports=r},{"./toObject":38}],28:[function(n,t){function e(n,t){return function(e,o,s){if(o=i(o,s,3),f(e)){var h=u(e,o,t);return h>-1?e[h]:undefined}return r(e,o,n)}}var i=n("./baseCallback"),r=n("./baseFind"),u=n("./baseFindIndex"),f=n("../lang/isArray");t.exports=e},{"../lang/isArray":40,"./baseCallback":9,"./baseFind":12,"./baseFindIndex":13}],29:[function(n,t){function f(n,t){return function(f,e,o,s){var h=arguments.length<3;return typeof e=="function"&&typeof s=="undefined"&&u(f)?n(f,e,o,h):r(f,i(e,s,4),o,h,t)}}var i=n("./baseCallback"),r=n("./baseReduce"),u=n("../lang/isArray");t.exports=f},{"../lang/isArray":40,"./baseCallback":9,"./baseReduce":23}],30:[function(n,t){function i(n,t,i,r,u,f,e){var c=-1,l=n.length,a=t.length,s=!0,o,h,v;if(l!=a&&!(u&&a>l))return!1;while(s&&++c<l)if(o=n[c],h=t[c],s=undefined,r&&(s=u?r(h,o,c):r(o,h,c)),typeof s=="undefined")if(u){for(v=a;v--;)if(h=t[v],s=o&&o===h||i(o,h,r,u,f,e),s)break}else s=o&&o===h||i(o,h,r,u,f,e);return!!s}t.exports=i},{}],31:[function(n,t){function s(n,t,s){switch(s){case i:case r:return+n==+t;case u:return n.name==t.name&&n.message==t.message;case f:return n!=+n?t!=+t:n==0?1/n==1/t:n==+t;case e:case o:return n==t+""}return!1}var i="[object Boolean]",r="[object Date]",u="[object Error]",f="[object Number]",e="[object RegExp]",o="[object String]";t.exports=s},{}],32:[function(n,t){function f(n,t,r,f,e,o,s){var b=i(n),k=b.length,d=i(t),g=d.length,p,w,h,c,l,a,v,y;if(k!=g&&!e)return!1;for(p=e,w=-1;++w<k;){if(h=b[w],c=e?h in t:u.call(t,h),c&&(l=n[h],a=t[h],c=undefined,f&&(c=e?f(a,l,h):f(l,a,h)),typeof c=="undefined"&&(c=l&&l===a||r(l,a,f,e,o,s))),!c)return!1;p||(p=h=="constructor")}return!p&&(v=n.constructor,y=t.constructor,v!=y&&"constructor"in n&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof y=="function"&&y instanceof y))?!1:!0}var i=n("../object/keys"),r=Object.prototype,u=r.hasOwnProperty;t.exports=f},{"../object/keys":45}],33:[function(n,t){function r(n,t){return n=+n,t=t==null?i:t,n>-1&&n%1==0&&n<t}var i=Math.pow(2,53)-1;t.exports=r},{}],34:[function(n,t){function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=i}var i=Math.pow(2,53)-1;t.exports=r},{}],35:[function(n,t){function i(n){return!!n&&typeof n=="object"}t.exports=i},{}],36:[function(n,t){function r(n){return n===n&&(n===0?1/n>0:!i(n))}var i=n("../lang/isObject");t.exports=r},{"../lang/isObject":42}],37:[function(n,t){function c(n){for(var c=e(n),l=c.length,s=l&&n.length,y=s&&f(s)&&(r(n)||o.nonEnumArgs&&i(n)),a=-1,v=[],t;++a<l;)t=c[a],(y&&u(t,s)||h.call(n,t))&&v.push(t);return v}var i=n("../lang/isArguments"),r=n("../lang/isArray"),u=n("./isIndex"),f=n("./isLength"),e=n("../object/keysIn"),o=n("../support"),s=Object.prototype,h=s.hasOwnProperty;t.exports=c},{"../lang/isArguments":39,"../lang/isArray":40,"../object/keysIn":46,"../support":49,"./isIndex":33,"./isLength":34}],38:[function(n,t){function r(n){return i(n)?n:Object(n)}var i=n("../lang/isObject");t.exports=r},{"../lang/isObject":42}],39:[function(n,t){function o(n){var t=r(n)?n.length:undefined;return i(t)&&e.call(n)==u}var i=n("../internal/isLength"),r=n("../internal/isObjectLike"),u="[object Arguments]",f=Object.prototype,e=f.toString;t.exports=o},{"../internal/isLength":34,"../internal/isObjectLike":35}],40:[function(n,t){var r=n("../internal/isLength"),u=n("./isNative"),f=n("../internal/isObjectLike"),e="[object Array]",o=Object.prototype,s=o.toString,i=u(i=Array.isArray)&&i,h=i||function(n){return f(n)&&r(n.length)&&s.call(n)==e};t.exports=h},{"../internal/isLength":34,"../internal/isObjectLike":35,"./isNative":41}],41:[function(n,t){function c(n){return n==null?!1:i.call(n)==f?h.test(s.call(n)):u(n)&&e.test(n)}var r=n("../string/escapeRegExp"),u=n("../internal/isObjectLike"),f="[object Function]",e=/^\[object .+?Constructor\]$/,o=Object.prototype,s=Function.prototype.toString,i=o.toString,h=RegExp("^"+r(i).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=c},{"../internal/isObjectLike":35,"../string/escapeRegExp":48}],42:[function(n,t){function i(n){var t=typeof n;return t=="function"||!!n&&t=="object"}t.exports=i},{}],43:[function(n,t){function e(n){return typeof n=="string"||i(n)&&f.call(n)==r}var i=n("../internal/isObjectLike"),r="[object String]",u=Object.prototype,f=u.toString;t.exports=e},{"../internal/isObjectLike":35}],44:[function(n,t){function o(n){return e(n)&&f(n.length)&&!!i[u.call(n)]}var f=n("../internal/isLength"),e=n("../internal/isObjectLike"),i={},r,u;i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0;i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;r=Object.prototype;u=r.toString;t.exports=o},{"../internal/isLength":34,"../internal/isObjectLike":35}],45:[function(n,t){var u=n("../internal/isLength"),f=n("../lang/isNative"),e=n("../lang/isObject"),r=n("../internal/shimKeys"),i=f(i=Object.keys)&&i,o=i?function(n){if(n)var t=n.constructor,f=n.length;return typeof t=="function"&&t.prototype===n||typeof n!="function"&&f&&u(f)?r(n):e(n)?i(n):[]}:r;t.exports=o},{"../internal/isLength":34,"../internal/shimKeys":37,"../lang/isNative":41,"../lang/isObject":42}],46:[function(n,t){function c(n){var t,s;if(n==null)return[];e(n)||(n=Object(n));t=n.length;t=t&&f(t)&&(r(n)||o.nonEnumArgs&&i(n))&&t||0;for(var a=n.constructor,c=-1,v=typeof a=="function"&&a.prototype===n,l=Array(t),y=t>0;++c<t;)l[c]=c+"";for(s in n)y&&u(s,t)||s=="constructor"&&(v||!h.call(n,s))||l.push(s);return l}var i=n("../lang/isArguments"),r=n("../lang/isArray"),u=n("../internal/isIndex"),f=n("../internal/isLength"),e=n("../lang/isObject"),o=n("../support"),s=Object.prototype,h=s.hasOwnProperty;t.exports=c},{"../internal/isIndex":33,"../internal/isLength":34,"../lang/isArguments":39,"../lang/isArray":40,"../lang/isObject":42,"../support":49}],47:[function(n,t){function r(n){for(var t=-1,u=i(n),f=u.length,e=Array(f),r;++t<f;)r=u[t],e[t]=[r,n[r]];return e}var i=n("./keys");t.exports=r},{"./keys":45}],48:[function(n,t){function f(n){return n=r(n),n&&u.test(n)?n.replace(i,"\\$&"):n}var r=n("../internal/baseToString"),i=/[.*+?^${}()|[\]\/\\]/g,u=RegExp(i.source);t.exports=f},{"../internal/baseToString":24}],49:[function(n,t){(function(n){var u=Object.prototype,r=(r=n.window)&&r.document,f=u.propertyIsEnumerable,i={};(function(){i.funcDecomp=/\bthis\b/.test(function(){return this});i.funcNames=typeof Function.name=="string";try{i.dom=r.createDocumentFragment().nodeType===11}catch(n){i.dom=!1}try{i.nonEnumArgs=!f.call(arguments,1)}catch(n){i.nonEnumArgs=!0}})(0,0);t.exports=i}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],50:[function(n,t){function i(n){return function(){return n}}t.exports=i},{}],51:[function(n,t){function i(n){return n}t.exports=i},{}],52:[function(n,t){t.exports={options:function(n,t){return{dataType:"json",type:n,data:t}},convertResponse:function(n){return n.statusCode!==200?$.Deferred().reject({readyState:4,status:n.statusCode,responseText:n.error.message}):n.result},triggerCreated:function(n){return _sc.trigger("item:created",n),n},get:function(n){return $.ajax({url:n,dataType:"JSON"})}}},{}],53:[function(n,t){var i=n("lodash/lang/isString");t.exports={isId:function(n){return i(n)?/^\{?[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\}?$/i.test(n):!1}}},{"lodash/lang/isString":43}],54:[function(n,t){var i=n("../model/item"),r=function(n){if(!n.result)return console.debug("ERROR: No data from server"),{items:[],totalCount:0,data:n};if(!n.result.items)return console.debug("ERROR: No items from server"),{items:[],totalCount:0,data:n};var t=[];return n.result.items.forEach(function(n){t.push(new i(n))}),{items:t,total:n.result.totalCount,data:n.result}},u=function(n){return n.result?n.result.items?n.result.items.length===0?null:n.result.items.length>1?(console.debug("ERROR: Expected a single item"),null):new i(n.result.items[0]):(console.debug("ERROR: No items from server"),null):(console.debug("ERROR: No data from server"),null)};t.exports={convertToItem:u,convertToItems:r}},{"../model/item":64}],55:[function(n,t){var i=n("./urlHelper"),e=n("lodash/array/compact"),r=n("lodash/lang/isString"),o=n("lodash/lang/isArray"),s=n("lodash/collection/map"),u=n("./idHelper"),h=function(n){switch(n){case"self":return"s";case"children":return"c";case"parent":return"p";default:throw"Unsupported scope. It must be either 'self', 'children' or 'parent'";}},c=function(n,t){if(t&&o(t)){var r=e(s(t,h)).join("|");n=i.addQueryParameters(n,{scope:r})}return n},l=function(n,t){return t&&r(t)&&(n=i.addQueryParameters(n,{sc_database:t})),n},a=function(n,t){return t&&r(t)&&(n=i.addQueryParameters(n,{sc_content:t})),n},v=function(n,t,f){return t&&r(t)&&(f&&f.facetsRootItemId&&(n=i.addQueryParameters(n,{facetsRootItemId:f.facetsRootItemId})),t.indexOf("search:")===0?(n=i.addQueryParameters(n,{search:t.substr(7)}),f&&f.root&&u.isId(f.root)&&(n=i.addQueryParameters(n,{root:f.root})),f&&f.searchConfig&&(n=i.addQueryParameters(n,{searchConfig:f.searchConfig}))):n=t.indexOf("query:")===0?i.addQueryParameters(n,{query:t.substr(6)}):u.isId(t)?i.addQueryParameters(n,{sc_itemid:t}):i.combine(n,t)),n},y=function(n,t){return t&&(n=i.addQueryParameters(n,{language:t})),n},p=function(n,t){return t&&(n=i.addQueryParameters(n,{sc_itemversion:t})),n},f=function(n,t){var u,f,r;return t=t||{},u="/-/item/v1",f="",t.webApi&&(u=t.webApi),t.virtualFolder&&(f=t.virtualFolder),r=i.combine(u,f),r=v(r,n,t),t.scope&&(r=c(r,t.scope)),t.database&&n!==""&&n.indexOf("search:")===0?r=a(r,t.database):t.database&&(r=l(r,t.database)),t.language&&(r=y(r,t.language)),t.version&&(r=p(r,t.version)),t.payLoad&&(r=i.addQueryParameters(r,{payload:"full"})),t.formatting&&(r=i.addQueryParameters(r,{format:t.formatting})),t.sorting&&(r=i.addQueryParameters(r,{sorting:t.sorting})),t.showHiddenItems&&(r=i.addQueryParameters(r,{showHiddenItems:t.showHiddenItems})),t.fields&&(r=i.addQueryParameters(r,{fields:t.fields.join("|")})),t.pageSize&&t.pageSize>0&&(r=i.addQueryParameters(r,{pageIndex:t.pageIndex,pageSize:t.pageSize})),r};t.exports={buildUrl:f,getUrl:function(n,t,i){i=i||{};i.database||(i.database=t.databaseName);i.webApi||(i.webApi=t.webApi);i.virtualFolder||(i.virtualFolder=t.virtualFolder);return f(n,i)}}},{"./idHelper":53,"./urlHelper":56,"lodash/array/compact":1,"lodash/collection/map":4,"lodash/lang/isArray":40,"lodash/lang/isString":43}],56:[function(n,t){var r=n("lodash/collection/reduce"),u=n("lodash/array/compact"),f=n("lodash/object/pairs"),i=function(n,t){return n.indexOf("?"+t+"=")>=0||n.indexOf("&"+t+"=")>=0};t.exports={combine:function(){if(arguments.length===0)return"";var n=r(arguments,function(n,t){return t?n+"/"+u(t.split("/")).join("/"):n});return n?n.indexOf("/")===0?n:"/"+n:""},isParameterNameAlreadyInUrl:i,addQueryParameters:function(n,t){var e=f(t),o="([\\?&])({{param}}=[^&]+)",u,r=n;return e.forEach(function(n){i(r,n[0])?(u=new RegExp(o.replace("{{param}}",encodeURIComponent(n[0])),"i"),r=r.replace(u,"$1"+n[0]+"="+n[1])):r=(r+=~r.indexOf("?")?"&":"?")+(encodeURIComponent(n[0])+"="+encodeURIComponent(n[1]))}),r},getQueryParameters:function(n){var i={},t;return n?(t=n.split("?"),t=t.length>1?t[1].split("&"):t[0].split("&"),!t)?undefined:(t.forEach(function(n){var t=n.split("=");t.length===2&&(i[t[0]]=decodeURIComponent(t[1].replace(/\+/g," ")))}),i):i}}},{"lodash/array/compact":1,"lodash/collection/reduce":5,"lodash/object/pairs":47}],57:[function(n,t){var i=n("./model/databaseUri"),r=n("./model/database"),u=n("./helpers/itemWebApiUrlHelper");t.exports={search:function(n,t){n=typeof n=="string"||n instanceof String?{searchText:n}:n||{};var u=new i(n.database),f=new r(u);return f.search(n.searchText,t,n)},query:function(n,t){n=typeof n=="string"||n instanceof String?{query:n}:n||{};var u=new i(n.database),f=new r(u);return f.query(n.query,t,n)},fetch:function(n,t,u){var f,e,o,s;return arguments.length<3?(e=t,f={}):(f=t,e=u),o=new i(f.database),s=new r(o),s.fetch(n,e,f)},fetchChildren:function(n,t,u){var f,e,o,s;return arguments.length===2?(e=t,f={}):(f=t,e=u),o=new i(f.database),s=new r(o),s.fetchChildren(n,e,f)},create:n("./repo").create}},{"./helpers/itemWebApiUrlHelper":55,"./model/database":60,"./model/databaseUri":61,"./repo":65}],58:[function(n,t){var i=function(n,t){if(!n)throw"Parameter 'databaseUri' is null or empty";if(!t)throw"Parameter 'itemId' is null or empty";this.databaseUri=n;this.itemId=t};i.prototype.getDatabaseName=function(){return this.databaseUri.databaseName};i.prototype.getDatabaseUri=function(){return this.databaseUri};i.prototype.getItemId=function(){return this.itemId};t.exports=i},{}],59:[function(n,t){var i=function(n,t,i){if(!n)throw"Parameter 'itemUri' is null";if(!t)throw"Parameter 'language' is null or empty";if(!_.isNumber(i))throw"Parameter 'version' is null or not a number";this.itemUri=n;this.language=t;this.version=i};i.prototype.getDatabaseUri=function(){return this.itemUri.getDatabaseUri()};i.prototype.getDatabaseName=function(){return this.itemUri.getDatabaseName()};i.prototype.getItemId=function(){return this.itemUri.getItemId()};t.exports=i},{}],60:[function(n,t){var f=n("../helpers/itemWebApiUrlHelper"),i=n("../helpers/itemHelper"),r=n("../helpers/ajaxHelper"),o=n("./ItemUri"),s=n("./ItemVersionUri"),e=function(){},u=function(n){if(!n)throw"Parameter 'databaseUri' is null";this.databaseUri=n};u.prototype.fetch=function(n,t,u){if(!n)throw"Parameter 'id' is null";u=u||{};t=t||e;n instanceof o&&(u.database=n.getDatabaseName(),n=n.getItemId());n instanceof s&&(u.database=n.getDatabaseName(),u.language=n.getLanguage(),u.version=n.getVersion(),n=n.getItemId());var h=f.getUrl(n,this.databaseUri,u);return u.scope&&(_.contains(u.scope,"parent")||_.contains(u.scope,"children"))?r.get(h).pipe(i.convertToItems).then(t):r.get(h).pipe(i.convertToItem).then(t)};u.prototype.search=function(n,t,u){if(!n&&!u.root&&!u.searchConfig)throw new Error("No search parameters has been passed");t=t||e;var o=f.getUrl("search:"+n,this.databaseUri,u);return r.get(o).pipe(i.convertToItems).then(function(n){t(n.items,n.total,n.data)})};u.prototype.query=function(n,t,u){if(!n)throw"Parameter 'queryExpression' is null";t=t||e;var o=f.getUrl("query:"+n,this.databaseUri,u);return r.get(o).pipe(i.convertToItems).then(function(n){t(n.items,n.total,n.data)})};u.prototype.fetchChildren=function(n,t,u){if(!n)throw"Parameter 'id' is null";u=u||{};t=t||e;u.scope||(u.scope=["children"]);var o=f.getUrl(n,this.databaseUri,u);return r.get(o).pipe(i.convertToItems).then(function(n){t(n.items,n.total,n.data)})};t.exports=u},{"../helpers/ajaxHelper":52,"../helpers/itemHelper":54,"../helpers/itemWebApiUrlHelper":55,"./ItemUri":58,"./ItemVersionUri":59}],61:[function(n,t){var i=function(n){this.databaseName=n||"core";this.webApi="";this.virtualFolder="/sitecore/shell"};t.exports=i},{}],62:[function(n,t){var i=n("./fieldUri"),r=function(n,t,r,u,f){if(!n)throw"Parameter 'item' is null";if(!(t instanceof i))throw"Parameter 'fieldUri' is null";this.item=n;this.fieldUri=t;this.fieldName=r||"";this.value=u||"";this.type=f||"Single-Line Text"};t.exports=r},{"./fieldUri":63}],63:[function(n,t){var i=function(n,t){if(!n)throw"Parameter 'itemVersionUri' is null or empty";if(!t)throw"Parameter 'fieldId' is null or empty";this.itemVersionUri=n;this.fieldId=t};i.prototype.getDatabaseUri=function(){return this.itemVersionUri.getDatabaseUri()};i.prototype.getDatabaseName=function(){return this.itemVersionUri.getDatabaseName()};i.prototype.getItemUri=function(){return this.itemVersionUri.getItemUri()};i.prototype.getItemId=function(){return this.itemVersionUri.getItemId()};i.prototype.getLanguage=function(){return this.itemVersionUri.getLanguage()};i.prototype.getVersion=function(){return this.itemVersionUri.getVersion()};t.exports=i},{}],64:[function(n,t){var f=n("lodash/collection/map"),e=n("lodash/collection/find"),a=n("lodash/collection/filter"),o=n("./fieldUri"),s=n("./databaseUri"),h=n("./ItemUri"),r=n("../helpers/ajaxHelper"),c=n("./field"),u=n("../helpers/itemWebApiUrlHelper"),l=function(n){this.$fields=n.$fields;var t=this;n.$fields.forEach(function(n){t[n.Name]=n.Value});this.$itemUri=n.$itemUri;this.$itemId=n.$itemId;this.$itemName=n.$itemName;this.$displayName=n.$displayName;this.$language=n.$language;this.$version=n.$version;this.$templateName=n.$templateName;this.$templateId=n.$templateId;this.$hasChildren=n.$hasChildren;this.$path=n.$path;this.$url=n.$url;this.$mediaurl=n.$mediaurl},i=function(n,t){var f,e,a,r,v,u;if(n=n||{},this.databaseUri=new s(n.Database),t||(t=n.itemUri?n.itemUri:new h(this.databaseUri,n.ID)),n instanceof i){l.call(this,n);return}this.$fields=[];f=this;e=n.Fields||{};for(a in e)e.hasOwnProperty(a)&&(r=e[a],f[r.Name]=r.Value,v=new o(t,a),u=new c(f,v,r.Name,r.Value,r.Type),r.FormattedValue&&(u.formattedValue=r.FormattedValue),r.LongDateValue&&(u.longDateValue=r.LongDateValue),r.ShortDateValue&&(u.shortDateValue=r.ShortDateValue),f.$fields.push(u));this.$itemUri=t;this.$itemId=t.getItemId();this.$itemName=n.Name||"";this.$displayName=n.DisplayName||"";this.$database=n.Database||"";this.$language=n.Language||"";this.$version=n.Version||0;this.$templateName=n.TemplateName||"";this.$templateId=n.TemplateId||"";this.$hasChildren=n.HasChildren||!1;this.$path=n.Path||"";this.$url=n.Url||"";this.$mediaurl=n.MediaUrl||"";this.$icon=n.Icon||""};i.prototype.getFieldById=function(n){return e(this.$fields,function(t){return t.fieldUri.getFieldId()===n},this)};i.prototype.save=function(n,t){var i=f(this.$fields,function(n){return{name:n.fieldName,value:this[n.fieldName]}},this),e=u.getUrl(this.$itemId,this.databaseUri),o={dataType:"json",type:"PUT",data:i};return $.when($.ajax(e,o)).pipe(r.convertResponse).then($.proxy(n,t))};i.prototype.rename=function(n,t,i){var f=[{name:"__itemName",value:n}],e=u.getUrl(this.$itemId,this.databaseUri),o={dataType:"json",type:"PUT",data:f};return $.when($.ajax(e,o)).pipe(r.convertResponse).then($.proxy(t,i))};i.prototype.remove=function(n,t){var i=u.getUrl(this.$itemId,this.databaseUri);return $.when($.ajax(i,{dataType:"json",type:"DELETE"})).pipe(r.convertResponse).then($.proxy(n,t))};t.exports=i},{"../helpers/ajaxHelper":52,"../helpers/itemWebApiUrlHelper":55,"./ItemUri":58,"./databaseUri":61,"./field":62,"./fieldUri":63,"lodash/collection/filter":2,"lodash/collection/find":3,"lodash/collection/map":4}],65:[function(n,t){var u=n("../helpers/itemWebApiUrlHelper"),s=n("../helpers/itemHelper"),i=n("../helpers/urlHelper"),r=n("../helpers/ajaxHelper"),f=n("../model/item"),h=n("../model/field"),e=function(){},o={create:function(n,t){var s=n,o;if(t=t||e,!n.Name||!n.TemplateId||!n.ParentId)throw"Provide valid parameter in order to create an Item";return n.Database||(n.Database="core"),o=u.buildUrl(s.ParentId,{webApi:"/-/item/v1/sitecore/shell",database:n.Database}),o=i.addQueryParameters(o,{name:n.Name}),o=i.addQueryParameters(o,{template:n.TemplateId}),$.when($.ajax(o,r.options("POST",n.Fields))).pipe(r.convertResponse).pipe(function(n){return new f(n.items)}).then(t)}};t.exports=o},{"../helpers/ajaxHelper":52,"../helpers/itemHelper":54,"../helpers/itemWebApiUrlHelper":55,"../helpers/urlHelper":56,"../model/field":62,"../model/item":64}]},{},[57])(57)});
/*
//# sourceMappingURL=speakItem.min.js.map
*/