(function(a){a.widget("sc.spinner",{options:{icon:"/sitecore/apps/img/sc-spinner16.gif",text:"",type:"global",endless:false,position:"right",hidetimeout:3e3},_create:function(){a("*[data-target-id = "+this.element.attr("id")+"]").size()?a("*[data-target-id = "+this.element.attr("id")+"]").remove():a.noop();this._bind()},_bind:function(){var a=this;a.element.on("click show.spinner",function(b){if(!(a.element.parents("form:first").find(".error-field").size()&&b.target.type==="submit"))a.display();else return false})},display:function(){var a=this;a._render();a.show();a.element.parents("form:first").off("submit.spinner").on("submit.spinner",function(){a.element.off("click.spinner show.spinner").on("click.spinner show.spinner",function(){return false})})},show:function(){this.spinner&&this.spinner.show()},hide:function(){if(this.spinner){var a=this;this.spinner.remove();this.spinner=false}},_render:function(c){var b=this;if(b.spinner){b.timeout?clearTimeout(b.timeout):a.noop();b.spinner.remove()}var d=b.element.closest(".tab.current").size()&&b.options.type=="inline"?".tab.current":"body";b.spinner=a.tmpl(b.options.templates[b.options.type],c?c:b.options).attr("data-target-id",b.element.attr("id")).prependTo(b.element.closest(d));b.element.closest("form").on("responsesuccess.spinner responseerror.spinner hidespinner.spinner",function(){if(!b.options.endless){b.hide();b.element.off("click.spinner");b.element.closest("form").off("responsesuccess.spinner responseerror.spinner")}});b.element.closest("form").on("hidespinner.spinner",function(){b.hide()})},destroy:function(){return a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){var b=a.sc.spinner.prototype;a.widget("sc.spinner",a.extend({},b,{_create:function(){!this.options.templates?(this.options.templates={}):a.noop();this.options.templates=a.extend({},this.options.templates,{global:'<div class="spinner-global"><div class="sc-cover"></div><div class="spinner"><img src="${icon}" /><p>${text}</p></div></div>'});b._create.apply(this,arguments)}}))})(jQuery);(function(a){var b=a.sc.spinner.prototype;a.widget("sc.spinner",a.extend({},b,{_create:function(){!this.options.templates?(this.options.templates={}):a.noop();this.options.templates=a.extend({},this.options.templates,{inline:'<div class="spinner-inline">{{if icon}}<img src="${icon}" />{{/if}}<span>${text}</span></div></div>'});b._create.apply(this,arguments)},show:function(){var a=this;b.show.apply(this,arguments);this.options.type=="inline"&&a.element.addClass("ui-state-disabled")},hide:function(){var c=this;b.hide.apply(this,arguments);if(this.options.type=="inline"){c._render({text:c.options.responseMessage});c.timeout=setTimeout(function(){c.spinner?c.spinner.animate({opacity:"0"},300,function(){c.element.removeClass("ui-state-disabled");c.spinner.remove();c.spinner=false}):a.noop()},c.options.hidetimeout)}},_render:function(){var c=this;b._render.apply(this,arguments);if(c.options.type=="inline"){a(c.spinner).css({top:c.element.offset().top});c.options.position=="left"||!c.options.position&&c.element.next().size()?a(c.spinner).css({right:a("body").width()-c.element.offset().left}):a.noop();c.options.position=="right"||!c.options.position&&!c.element.next().size()?a(c.spinner).css({left:c.element.offset().left+c.element.outerWidth()}):a.noop()}}}))})(jQuery);if(typeof Sys!=="undefined"){Sys.Browser.WebKit={};if(navigator.userAgent.indexOf("WebKit/")>-1){Sys.Browser.agent=Sys.Browser.WebKit;Sys.Browser.version=parseFloat(navigator.userAgent.match(/WebKit\/(\d+(\.\d+)?)/)[1]);Sys.Browser.name="WebKit"}Sys.Application.notifyScriptLoaded()}
