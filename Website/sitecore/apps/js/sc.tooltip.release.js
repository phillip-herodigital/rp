(function(a){a.widget("sc.tooltip",{options:{position:["top","left"],offset:[0,0],relative:true,maxWidth:300,type:"simple",effect:"simple",templates:{simple:'{{if direction == "bottom"}}<div class="tooltip-pointer tooltip-pointer-top"></div>{{/if}}<div class="tooltip-content">{{html text}}</div>{{if direction == "top"}}<div class="tooltip-pointer tooltip-pointer-bottom"></div>{{/if}}'}},_create:function(){var b=this.options,c=false;this.trigger=this.options.trigger?typeof this.options.trigger=="String"?a(this.options.trigger):this.options.trigger:this.element;this.triggerInitialOffset=this.trigger.offset();this.options.text=this.options.text?this.options.text:this.trigger.attr("title");this._render();this._bind();this.triggerTitle=this.trigger.attr("title");this.trigger.attr("title","")},_position:function(){var c=this.element.parents(".popup-instance:first").size()?this.element.parents(".popup-instance:first").offset():{top:0,left:0},b=this.trigger.size()?this.trigger.offset():{top:0,left:0};b={top:b.top-c.top,left:b.left-c.left};if(!this.css||this.triggerInitialOffset.top!=this.trigger.offset().top||this.triggerInitialOffset.left!=this.trigger.offset().left){this.tooltip?this.tooltip.css("display","block"):a.noop();this.trigger&&this.tooltip?(this.css={top:this.options.position[0]=="top"?b.top-this.tooltip.outerHeight()+(this.options.offset?-this.options.offset[0]:a.noop())+"px":this.options.position[0]=="bottom"?b.top+this.trigger.outerHeight()+(this.options.offset?+this.options.offset[0]:a.noop())+"px":Math.round(b.top-this.tooltip.outerHeight()/2)+"px",left:this.options.position[1]=="left"?b.left+(this.options.offset?+this.options.offset[1]:0)+this.trigger.outerWidth()/2-27+"px":this.options.position[1]=="right"?b.left+(this.options.offset?+this.options.offset[1]:0)-this.tooltip.outerWidth()+this.trigger.outerWidth()-this.trigger.outerWidth()/2+27+"px":this.trigger.outerWidth()>=this.tooltip.outerWidth()?Math.round(b.left+this.trigger.outerWidth()/2-this.tooltip.outerWidth()/2)+"px":Math.round(b.left-this.tooltip.outerWidth()/2+this.trigger.outerWidth()/2)+"px"}):a.noop();this.options.position[1]=="left"?a(".tooltip-pointer-top, .tooltip-pointer-bottom").css({"margin-left":a(".tooltip-pointer").width()}):a.noop();this.options.position[1]=="right"?a(".tooltip-pointer-top, .tooltip-pointer-bottom").css({"margin-left":this.tooltip.outerWidth()-37}):a.noop();this.tooltip?this.tooltip.css("display","none"):a.noop();this.triggerInitialOffset=this.trigger.offset()}return this.css},_render:function(){var b=this.option.container?this.option.container:this.element.closest("form").size()?this.element.closest("form"):a("body form:first");this.tooltip=b.find(".tooltip").size()?b.find(".tooltip"):a('<div class="tooltip"></div>').appendTo(b.size()?b:a("body form:first")).css({"max-width":this.options.maxWidth+"px",position:"absolute","float":"left"})},_content:function(){this.content=this.content?this.content:a.tmpl(this.options.templates[this.options.type],{direction:this.options.position[0],text:this.options.text});return this.content},_bind:function(){var a=this;this.trigger.off("mouseenter.tooltip").on("mouseenter.tooltip",function(){a._effectStart()}).off("mouseleave.tooltip click.tooltip").on("mouseleave.tooltip click.tooltip",function(){a._effectEnd()})},_effectStart:function(){this.tooltip.append(this._content());this.options.className?this.tooltip.addClass(this.options.className):a.noop();this.tooltip?this.tooltip.css(this._position()):a.noop();this.effects[this.options.effect]?this.effects[this.options.effect].effectStart.call():a.noop()},_effectEnd:function(b){this.options.className?this.tooltip.removeClass(this.options.className):a.noop();this.tooltip?this.options.delay?this.tooltip.delay(this.options.delay).hide(b?b:a.noop()):this.tooltip.hide(b?b:a.noop()):a.noop();this.effects[this.options.effect]?this.effects[this.options.effect].effectEnd.call():a.noop();this.content=this._content().detach()},destroy:function(){this.tooltip.empty();return a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){var b=a.sc.tooltip.prototype;a.widget("sc.tooltip",a.extend({},b,{_create:function(){this.options.templates=a.extend({},this.options.templates,{advanced:'{{if direction == "bottom"}}<div class="tooltip-pointer-top"></div>{{/if}}<div class="tooltip-content"><div class="tooltip-content-inner">{{if html}}{{html html}}{{else}}{{if img}}<div class="tooltip-img"><img src="${img}"></img></div>{{/if}}{{if img}}<div class="tooltip-info">{{/if}}{{if title}}<div class="tooltip-title">${title}</div>{{/if}}{{if text}}<div class="tooltip-text">{{html text}}</div>{{/if}}</div>{{if img}}</div>{{/if}}{{if links}}<div class="tooltip-links"><div style="float:right;">{{each links}}<a href = "${$value}" class="button">${$index}</a> {{/each}}</div></div>{{/if}}</div>{{/if}}</div>{{if direction == "top"}}<div class="tooltip-pointer-bottom"></div>{{/if}}'});if(this.options.type=="advanced"){this.options.position=["bottom","left"];this.options.maxWidth=380;this.options.offset=[0,-10]}b._create.apply(this,arguments)},_render:function(){if(this.options.type=="advanced")this.tooltip=a(".tooltip-advanced").size()?a(".tooltip-advanced"):a('<div class="tooltip-advanced"></div>').appendTo(this.element.closest("form").size()?this.element.closest("form"):a("body form:first")).css({"max-width":this.options.maxWidth+"px",position:"absolute","float":"left"});else b._render.apply(this,arguments)},_content:function(){if(this.options.type=="advanced"){this.content=this.content?this.content:a.tmpl(this.options.templates[this.options.type],{direction:this.options.position[0],title:this.options.title,text:this.options.text,img:this.options.img,links:this.options.links});return this.content}else return b._content.apply(this,arguments)},_bind:function(){if(this.options.type=="advanced"){var a=this;this.trigger.off("mouseenter.tooltip").on("mouseenter.tooltip",function(){clearTimeout(a.timeout);a._effectStart()}).off("mouseleave.tooltip").on("mouseleave.tooltip",function(){a.timeout=setTimeout(function(){if(a.tooltipMouseover)clearTimeout(a.timeout);else{a._effectEnd();clearTimeout(a.timeout)}},50)});this.tooltip.off("mouseenter.tooltip").on("mouseenter.tooltip",function(){a.tooltipMouseover=true}).off("mouseleave.tooltip").on("mouseleave.tooltip",function(){a.tooltipMouseover=false;a._effectEnd()})}else b._bind.apply(this,arguments)}}))})(jQuery);(function(a){var b=a.sc.tooltip.prototype;a.widget("sc.tooltip",a.extend({},b,{_create:function(){b._create.apply(this,arguments);this._effectsDefault()},_addEffect:function(c,e,f,d){var b=this;this.effects=this.effects?this.effects:{};this.effects[c]?a.noop():(this.effects[c]={});this.effects[c].effectStart=function(){e(b.tooltip,b.trigger,b.options.delay,d)};this.effects[c].effectEnd=function(){f(b.tooltip,b.trigger,b.options.delay,d)}},_effectsDefault:function(){this._addEffect("simple",function(c,e,d,b){c?d?c.delay(d).show(b?b:a.noop()):c.show(b?b:a.noop()):a.noop()},function(c,e,d,b){c?d?c.delay(d).hide(b?b:a.noop()):c.hide(b?b:a.noop()):a.noop()})}}))})(jQuery);if(typeof Sys!=="undefined"){Sys.Browser.WebKit={};if(navigator.userAgent.indexOf("WebKit/")>-1){Sys.Browser.agent=Sys.Browser.WebKit;Sys.Browser.version=parseFloat(navigator.userAgent.match(/WebKit\/(\d+(\.\d+)?)/)[1]);Sys.Browser.name="WebKit"}Sys.Application.notifyScriptLoaded()}
