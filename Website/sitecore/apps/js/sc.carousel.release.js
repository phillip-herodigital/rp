(function(a){a.widget("sc.carousel",{options:{itemWidth:200,itemHeight:200,visible:1,paging:true,pagingNumbers:false,controls:true,type:"horisontal",prev:"",next:"",scroll:1,selected:0,circular:false,effectSpeed:200},_create:function(){this._initialize();this._render();this._bind()},_initialize:function(){var b=this;this.pages=parseInt(this.element.find("li").size()/this.options.scroll,10)+(this.element.find("li").size()%this.options.scroll?1:0);this.options.selected=this.options.selected?this.options.selected>=this.pages?0:this.options.selected:0;this.lastPageOffset=this.element.find("li").size()-this.options.scroll;b.element.addClass("sc-carousel").addClass(this.options.type).find("li").css({width:this.options.itemWidth+"px",height:this.options.itemHeight+"px",overflow:"hidden"});b.element.find("ul").width(b.options.type=="horisontal"?b.element.find("li").outerWidth(true)*b.element.find("li").size():b.element.find("li").outerWidth(true)).wrap('<div class="carousel-inner" style="height:'+(b.options.type=="horisontal"?b.element.find("li:first").outerHeight(true):b.element.find("li:first").outerHeight(true)*b.options.visible)+"px; width:"+(b.options.type=="horisontal"?b.element.find("li:first").outerWidth(true)*b.options.visible:b.element.find("li:first").outerWidth(true))+'px"></div>');this.options.type=="vertical"?b.element.width(b.element.find("ul").outerWidth()):a.noop()},_render:function(){var b=this;this.options.controls?this._controls():a.noop();this.options.paging?this._paging():a.noop()},_bind:function(){var b=this;this.prev?this.prev.unbind("click.carousel").bind("click.carousel",function(){if(b.options.selected){b.options.selected--;b._effect(b.options.selected,function(){b._disableControls()})}else b.options.circular?(b._effect(b.pages-1).options.selected=b.pages-1):a.noop();return false}):a.noop();this.next?this.next.unbind("click.carousel").bind("click.carousel",function(){if(b.options.selected+1!=b.pages){b.options.selected++;b._effect(b.options.selected,function(){b._disableControls()})}else b.options.circular?(b._effect(0).options.selected=0):a.noop();return false}):a.noop();this.paging?this.paging.find("a").each(function(c){a(this).unbind("click.carousel").bind("click.carousel",function(){b._effect(c,function(){b.options.selected=c;b._disableControls()});return false})}):a.noop()},_controls:function(){this.prev=a('<a href="#" class="carousel-prev'+(!this.options.selected&&!this.options.circular?" disable":"")+'" >'+this.options.prev+"</a>").prependTo(this.element);this.next=a('<a href="#" class="carousel-next'+(this.options.selected+1==this.pages&&!this.options.circular?" disable":"")+'" >'+this.options.next+"</a>").prependTo(this.element)},_paging:function(){this.paging=a('<div class="carousel-paging"></div>').appendTo(this.element);for(var b=0;b<this.pages;b++)this.paging.append('<a href="#" '+(b==0?'class="first"':b==this.pages-1?'class="last"':"")+">"+(this.options.pagingNumbers?b+1:"")+"</a>");a(this.paging.find("a")[this.options.selected]).addClass("active");this.paging.css("float","left").css("width",this.paging.width()+"px").css("float","none")},_effect:function(c,e){var d=c+1==this.pages?this.lastPageOffset:c*this.options.scroll,b=this,f=this.options.type=="horisontal"?{left:-a(b.element.find("li")[d]).position().left+"px"}:{top:-a(b.element.find("li")[d]).position().top+"px"};b.element.find("ul").animate(f,this.options.effectSpeed,function(){b.paging?a(b.paging.find("a").removeClass("active")[c]).addClass("active"):a.noop();e?e():a.noop()});return this},_disableControls:function(){!this.options.circular?this.options.selected?this.prev.removeClass("disable"):this.prev.addClass("disable"):a.noop();!this.options.circular?this.options.selected+1!=this.pages?this.next.removeClass("disable"):this.next.addClass("disable"):a.noop()},destroy:function(){return a.Widget.prototype.destroy.call(this)}})})(jQuery);if(typeof Sys!=="undefined"){Sys.Browser.WebKit={};if(navigator.userAgent.indexOf("WebKit/")>-1){Sys.Browser.agent=Sys.Browser.WebKit;Sys.Browser.version=parseFloat(navigator.userAgent.match(/WebKit\/(\d+(\.\d+)?)/)[1]);Sys.Browser.name="WebKit"}Sys.Application.notifyScriptLoaded()}
