(function(a){a.widget("sc.tabstrip",{options:{tabSelector:"> .tabs li",paneSelector:"> .tab"},_create:function(){var c=this,b=c.options;this.storage=new a.Storage;if(!b.active&&b.active!==0){b.active=0;b.active=this.storage.get(this.element.attr("id"));b.active=parseInt(isNaN(b.active)||!b.active?0:b.active,10);if(!b.active){b.active=0;this.storage.set(this.element.attr("id"),b.active)}}var d=this.getTabs();d.each(function(b){a(this).addClass(b?"":"first").css("z-index",d.length-b)});this.element.addClass("directed");this._bind();this._showTab(b.active);c.currentPane().triggerHandler("contentshow")},_bind:function(){var d=this.getTabs(),e=this.getPanes(),b=this,c=this.options;a.each(d,function(d){a(this).find("a").on("click",function(){c.beforeClick?c.beforeClick():a.noop();b.currentPane().triggerHandler("contenthide");b._showTab(d);c.onClick?c.onClick():a.noop();b.currentPane().triggerHandler("contentshow");a(".sc-button").trigger("over.combobox");a(".popup-menu").trigger("over.combobox");a("body").trigger("click");b.storage.set(b.element.attr("id"),b.getIndex());return false})});a.each(e,function(b){a(this).on("validatefocus",function(){a(d[b]).find("a").trigger("click")})})},getIndex:function(){var b=0;this.getTabs().each(function(c){a(this).find("a").hasClass("current")?(b=c):a.noop()});return b},currentPane:function(){return this.getPanes().filter(function(){return a(this).hasClass("current")})},currentTab:function(){return this.getTabs().filter(function(){return a(this).hasClass("current")})},getTabs:function(){return this.element.find(this.options.tabSelector)},getPanes:function(){return this.element.find(this.options.paneSelector)},_showTab:function(a){var c=this.getTabs(),b=this.getPanes();c.find("a").removeClass("current");b.removeClass("current");c.filter(function(b){return a==b}).find("a").addClass("current");b.filter(function(b){return a==b}).addClass("current")},showTab:function(a){this._showTab(a)},destroy:function(){return a.Widget.prototype.destroy.call(this)}})})(jQuery);if(typeof Sys!=="undefined"){Sys.Browser.WebKit={};if(navigator.userAgent.indexOf("WebKit/")>-1){Sys.Browser.agent=Sys.Browser.WebKit;Sys.Browser.version=parseFloat(navigator.userAgent.match(/WebKit\/(\d+(\.\d+)?)/)[1]);Sys.Browser.name="WebKit"}Sys.Application.notifyScriptLoaded()}
