(function(a){a.widget("sc.validate",{options:{group:null,submit:false,ignore:".cancel"},rules:{},_create:function(){this.submitted=false;this.hidden=false;this.cancelValidate=false;this._bind()},_bind:function(){var b=this,c=function(c,f,e,d){b.submitted=b.options.submit||(c||{}).type==="submit"||(c||{}).target&&a((c||{}).target).attr("type")==="submit";if(!b.cancelValidate&&(d==null||!a(d).is(b.options.ignore)))if(!b.validate(null,!c?{error:b.rules.error,warning:b.rules.warning,information:b.rules.information}:null)){(c||{}).type==="submit"||c.target&&a(c.target).attr("type")==="submit"?b.element.trigger("validateclientfailure"):a.noop();return false}b.cancelValidate=false;return true};if(b.options.group)a("#"+b.options.group,this.element).on("click",c);else{a('*[type="submit"]').on("click",function(a){return c(a)});this.element.parents("form").on("submit",c).click(function(c){b.cancelValidate=a(c.target).is(b.options.ignore)})}c();b.options.submit=false;b.submitted=false},validate:function(c,d){var b=this;b.valid=true;((a(c,this.element).size()?a(c,this.element):false)||a('*[data-val="true"]',this.element)).each(function(){a.each(b.validators(this,d||null),function(){return b._test(this)?b._unhighlight(this):b._highlight(this)})});return b.valid},highlighted:function(){var c=this,b=[];a('*[aria-invalid="true"]',this.element).each(function(){b.push(c.validators(this).filter(function(a){return!(a.rule=="error"||a.rule=="warning"||a.rule=="information"?false:c._test(a))})[0])});return b.filter(function(a){return a})},validators:function(h,k){var j=this,i=a(h).data(),f={error:[],warning:[],information:[]};for(var b in k||j.rules){var c="val"+a.map(b,function(a,b){return b==0?a.toUpperCase():a}).join(""),d=i[c],g=i[c+"Type"];if(d){var e=[];a.each(i,function(a,b){a.search(c)!=-1&&a!=c&&a!=c+"Type"&&e.push(b)});e.sort().reverse();if(b=="error"||b=="warning"||b=="information"){g=b;d=d+"<br />"+e.join("<br />")}f[g||"error"].push({rule:b,submitted:j.submitted,message:d,params:e,value:a(h).val(),element:h,type:g||"error"})}}return f.error.concat(f.warning,f.information)},_test:function(a){return this.rules[a.rule](a.value,a.element,a.params)&&a.type!=="information"},_highlight:function(b){this._unhighlight(b,true);!this.element.closest(".popup-content").size()||this.element.closest(".smart-panel").size()?this.element.trigger("validatehighlight",[b]):a.noop();var c=a(b.element).closest(".editor"),d=a(b.element).closest(".field");d.addClass(b.type+"-field");var e=a('<div class="validation-icon '+b.type+'"></div>');e.insertAfter(c).tooltip({position:["top","left"],offset:[0,0],effect:"simple",delay:0,type:"simple",className:b.type,text:b.message});this.valid=b.type!=="error";a(b.element).attr("aria-invalid",b.type==="error"||b.type==="warning"?true:false);return false},_unhighlight:function(b,c){c?a.noop():!this.element.closest(".popup-content").size()||this.element.closest(".smart-panel").size()?this.element.trigger("validateunhighlight",[b]):a.noop();var d=a(b.element).closest(".field").removeClass(b.type+"-field");d.find(".validation-icon").tooltip("destroy").remove();a(b.element).attr("aria-invalid",false);return true},destroy:function(){return a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a){var b=a.sc.validate.prototype;a.widget("sc.validate",a.extend({},b,{_bind:function(){var c=this;b._bind.apply(this,arguments);a('*[data-val="true"]',this.element).focus(function(){c.onfocus(this)}).blur(function(){c.onblur(this)}).keyup(function(){c.onkeyup(this)}).change(function(){c.onchange(this)});this.element.parents().on("contenthide",function(){a.each(c.highlighted(),function(){this.hidden=true;a(this.element).trigger("validatehighlight",this)})})},onfocus:function(b){this.active=b;a(b).closest(".field").find(".validation-icon").triggerHandler("mouseenter")},onblur:function(b){a(b).closest(".field").find(".validation-icon").triggerHandler("mouseleave");this.validate(b)},onkeyup:function(b){this.validate(b);a(b).closest(".field").find(".validation-icon").triggerHandler("mouseenter")},onchange:function(a){this.validate(a)},onclick:function(){}}))})(jQuery);(function(a){var b=a.sc.validate.prototype;a.widget("sc.validate",a.extend({},b,{_create:function(){var c=this;this.rules=a.extend({},b.rules,{required:function(b){return a.trim(b).length>0},length:function(b,c,a){return b.length<=a[0]?true:false},range:function(e,g,b){var d=a.trim(e);if(/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(d)){var c=parseInt(d,10);if(b.length>1){if(b[0]>b[1]){var f=b[0];b[0]=b[1];b[1]=f}return c>b[0]&&c<b[1]?true:false}else return c<=b[0]?true:false}return false},itemname:function(e,c,d){var b="";a.netajax(a("#"+d[0]),e,false).done(function(a){b=a.message});if(b.length>0){a(c).attr("data-val-itemname",b);return false}return true},regex:function(c,d,b){var a=new RegExp(b[0],"g");return a.test(c)},error:function(d,b){return a(b).attr("aria-invalid")==undefined?false:true},warning:function(d,b){return a(b).attr("aria-invalid")==undefined?false:true},information:function(){return true}});b._create.apply(this,arguments)},_removeAttributes:function(b,c,d){var e=a(b).data();a.each(e,function(e){if(e.search(c)!=-1){a(b).removeData(e);var f=e.replace(c,"").toLowerCase();a(b).removeAttr("data-"+d+(f.length?"-"+f:""))}})}}))})(jQuery);if(typeof Sys!=="undefined"){Sys.Browser.WebKit={};if(navigator.userAgent.indexOf("WebKit/")>-1){Sys.Browser.agent=Sys.Browser.WebKit;Sys.Browser.version=parseFloat(navigator.userAgent.match(/WebKit\/(\d+(\.\d+)?)/)[1]);Sys.Browser.name="WebKit"}Sys.Application.notifyScriptLoaded()}
