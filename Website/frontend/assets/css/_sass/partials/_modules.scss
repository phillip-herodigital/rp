/* This file is where the styling for modules will go. This employes the concepts of OOCSS, creating common base classes (using <article> as the base), and extending as necessary */

/*

<article class="module-name">
	<header>
		<h2>Module Name</h2>
	</header>
	<div class="content">
		<!-- Content here -->
	</div>
</article>
    
*/

article {
	// Careful what's added here. This is the base class, and is used everywhere	
}

/* Box styling */

article {
	@include box-shadow(0 1px 2px rgba(0, 0, 0, 0.15));
	@include border-radius(10px);
	margin-bottom: 20px;
	border: 1px solid #ddd;
	overflow: hidden;
	header {
		@include border-radius(10px 10px 0px 0px);
		background-color: #1385e1;
		@include background-image(linear-gradient(bottom, #1383df 0%, #1597ff 100%));
		//margin: -15px -15px 0px -15px;
		padding: 5px 13px;
		h2 {
			color: #fff;
			text-transform: uppercase;
		}
	}
	footer {
		background: #fbfbfb;
		padding: 15px;
		border-top: 1px solid #ddd;
	}
	.buttons {
		@extend .clearfix;		
		.button, button {
			float: right;
			margin: 0 0 0 5px;	
			@include breakpoint(small) {
				float: none;
				width: 100%;
				margin-left: 0;
				margin-top: 10px;
				&:first-child {
					margin-top: 0;
				}
			}			
		}
	}	
	.content {
		padding: 25px 15px;
		position: relative;
		& > :first-child {
			margin-top: 0;
		}

		& > :last-child {
			margin-bottom: 0;
			padding-bottom: 0;
		}
	}
	.loadingMessage {
		position: absolute;
		top: 0;
		left: 0;
		bottom: 0;
		right: 0;
		background-color: rgba(255, 255, 255, .9);
		z-index: 2;
		span {
			$height: 32px;
			$width: 130px;
			position: absolute;
			top: 50%;
			left: 50%;
			display: block;
			width: $width;
			height: $height;
			margin: $height/2*-1 0 0 $width/2*-1;
			text-transform: uppercase;
			font-weight: bold;
			img {
				margin-right: 5px;
				vertical-align: middle;
			}
		}
	}
	.alert {
	    padding: 15px;
	    margin-bottom: 20px;
	    border: 1px solid transparent;

		&.alert-error {
		    background-color: #f2dede;
		    border-color: #ebccd1;
		    color: #a94442
		}
	}
	.account-selector {
		background: #fbfbfb;
		padding: 15px;
		border-bottom: 1px solid #ddd;
		//margin: 0px -15px 15px;
		margin: -25px -15px 15px -15px;
		.group {
			@extend .inline-group;
			.item {
				@extend .group-col;
				width: auto;
				label {
					display: inline-block;
					margin-right: 5px;
				}
				select {
					width: auto;
				}
			}
		}
	}
	.filters {
		background: #fbfbfb;
		padding: 10px;
		border-bottom: 1px solid #ddd;
		margin: -15px -15px 0 -15px;
		.group {
			.item {
				width: auto;
				margin-top: 8px;
				label {
					display: inline-block;
					margin-right: 5px;
				}
				select {
					width: auto;
				}
			}
		}
	}
	.stretch {
		margin: 0 -15px;
	}
	.pagination {
		.page-size {
			float: left;
			width: 25%; 
			select {
				width: auto;
			}
		}
		.showing {
			float: left;
			width: 25%;
			margin: 10px 0 0 0;
			text-align: right;
		}
		.page-selection {
			@include layout-list();
			float: right;
			width: 50%;
			text-align: right;
			li {
				display: inline-block;
				//padding: 0 3px;
				vertical-align: middle;
				margin: 7px 2px 0 2px;
				&.page-number {
					a {
						@include border-radius(10px, 10px);
						display: inline-block;
						border: 1px solid #d9d9d9;
						padding: 6px 15px;
						background-color: #fff;
						color: #333;
						cursor: pointer;
						&.selected {
							color: #fff;
							background: #0971cd;
						}
					}
				}
				&.disabled a {
					color: #333;
				}
			}
		}
	}
	hr.wide {
		height: 0px;
		width: 100%;
		border: 1px solid #ddd;
		border-bottom: 0px;
	}
	dl.module-list {
		dt {
			font-weight: bold;
		}	
		dd {
			text-align: left;
		}
		@include breakpoint(small) {
			dd {
				margin-bottom: 10px; 
			}
			dt, dd {
				float: none;
				width: auto;
			}
		}			
	}
}
article.grey-box {
	background-color: #f9f9f9;
	header {
		background-color: #f5f5f5;
		background-image: none;
		border-bottom: 1px solid #ddd;
		h2 {
			color: #0971ce;
		}
	}
	.account-selector {
		background-color: #f4f4f4;
	}
}

article.plain {
	border: none;
	@include box-shadow(none);
	@include border-radius(0px);
	margin-bottom: 0px;
	padding: 0;
}

article.account {
	@include breakpoint(small-medium) {
		padding: 0 20px;
	}
}

div.banner + article.message {
	margin-top: -20px;
}

div.banner.account {
	@include breakpoint(small) {
		display: none;
	}
	@include breakpoint(large) {
		border-bottom: 5px solid #259afd;
	}
}

article.message {
	@extend .plain;
	margin-bottom: 20px;
	padding: 10px 0px;
	border-bottom: 6px solid #ffa409;
	background: #0971ce;
	color: #fff;
	font-size: 20px;
	font-weight: 100;
	p {
		margin: 0;
	}
}

article.plan {
	@include border-radius(10px 10px 0 0);
	padding-bottom: 0px;
	table {
		th {
			border: 0px;
			&.vertical {
				background-color: #f6f6f6;
				padding: 0px;
				.fixed {
					@include rotate(-90deg);
					text-transform: uppercase;
				}
			}
		}
		td {
			border: 0px;
			border-right: 1px solid #eaeaea;
			h5 {
				margin-top: 0px;
			}
			span.plan-cost {
				font-size: 24px;
				font-style: italic;
				color: #000;
			}
			p.details {
				margin-top: 40px;
			}
			&.center {
				text-align: center;
				color: #828282;
				padding: 20px;
				p {
					margin-top: 0px;
					text-transform: uppercase;
				}			
			}
		}
		.expand-details {
			background-color: #f7f7f7;
			td {
				padding: 20px;
				position: relative;
				&:before {
					content: "";
					border-left: 14px solid transparent;
					border-right: 14px solid transparent;
					border-bottom: 14px solid #f7f7f7;
					position: absolute;
					top: -14px;
					left: 70px;
				}
				div.inner {
					margin-right: 50px;
				}
				i.icon-close {
					position: absolute;
					top: 35px;
					right: 20px;
				}
				.grid {
					background-color: #f1f1f1;
					margin: 0 0 15px 0;
					width: 100%;
					text-align: center;
					p {
						text-align: left;
						margin: 0px;
					}
					.col {
						padding: 10px;
						ul {
							list-style-type: none;
							padding-left: 0px;
							text-align: left;
							margin-top: 0;
						}
					}
				}
				@include breakpoint(small) {
					.grid {
						.col {
							float: left;
							width: 50%;			
						}
					}
					.grid .col:last-child {
						width: 100%;
						ul li {
							float: left;
							width: 33%;
						}
					}
				}
			}
		}
	}
	footer.renew-plan {
		background-color: #d8edfe;
		button.primary {
			float: right;
			margin-top: 20px;
		}
		.grid {
			p {
				margin-top: 0px;
			}
			@include breakpoint(small) {
				.col button {
					float: none;
				}
			}
		}
	}
}
article.utility-providers .logos {
	border: 1px solid #d9d9d9;
	float: left;
	background-color:#fff;
	height: 75px;
	margin-right: 15px;
	padding: 0px 15px;
	&:hover {
		border: 1px solid #1697ff;
	}
}
article.balances-payments {
	dl dd {
		font-weight: bold;
		margin-bottom: 5px;
		text-align: left;
		width: 31%;
		margin-left: 15px;
	}
	dl dt {
		margin-bottom: 5px;
		width: 61%;
	}
	.grid .col {
		border-spacing: 0px;
		h4 {
			font-weight: 600;
		}
		.group {
			.item {
				width: 50%;
			}
		}
		&.payment {
			input {
				text-align: right;
			}
		}
		@include breakpoint(small) {
			.group {
				.item {
					width: 100%;
				}
			}
			// form button {
			// 	float: none;
			// 	width: 100%;
			// 	margin-top: 10px;
			// }
		}
	}
}
article.energy-usage {
	.graph-header {
		padding: 15px 40px 0px 40px;
		.last {
			text-align: right;
		}
	}
	.usage-graph {
		text-align: center;
	}
	.compare {
		p {
			float: left;
			margin: 5px 10px 0 0;
		}
		select {
			width: 120px;
		}
	}
}
article.service-identification {
	padding-top: 0px;
	.service-address p {
		margin-bottom: 0px;
	}
}
article.account-holder-information {
	.account-holder {
		margin-bottom: 20px;
	}
	.account-holder-name {
		margin-top: 0;
	}
	.billing-address {
		margin-left: 23px;
	}
	.checkbox-list {
		label {
			text-transform: uppercase;
			margin-bottom: 10px;
		}
	}
}
article.notification-settings {
	.edit-preferences {
		padding-bottom: 0;
		.additional-field-action {
			position: absolute;
			right: 0;
			top: 50%;
			margin-top: -10px;
		}
		.additional-field-group {
			> :first-child { 
				margin-top: 0;
			}
			.buttons {
				margin-right: 0;
			}
		}
		.checkbox-list {
			label {
				display: inline;
			}
			li {
				margin-bottom: 5px;
				&:last-child {
					margin-bottom: 0;
				}	
			}
		}
		.preference {
			position: relative;
		}		
		.label {
			@include border-radius(4px);
			border: 1px solid #ddd;
			background: #fff;
			display: inline-block;
			padding: 3px 8px;
			font-weight: 600;
		}
		.notification-list {
			font-weight: 600;
		}
		.preference-type {
			display: block;
			margin-right: 50px;
		}
		i {
			margin-right: 4px;
		}
	}
}
article.enrolled-accounts {
	@include border-radius(10px 10px 0 0);
	padding-bottom: 0px;

	@include breakpoint(small-medium) {
		table, thead, tbody, th, td, tr {
			display: block;
		}
		table thead {
			position: absolute;
			top: -9999px;
			left: -9999px;
		}
		table td {
			font-size: 16px;
			border: none;
			position: relative;
			padding: 10px 15px;
			white-space: normal;
			text-align:left;			
		}
		table td:first-child {
			padding-top: 25px;
		}
		table td:last-child {
			padding-bottom: 25px;
		}
		table td:before {
			content: attr(data-title);
			display: block;
			white-space: nowrap;
			text-align:left;
			font-weight: 600;
			text-transform: uppercase;	
		}

		table button + button {
			margin-top: 10px;
		}
	}
}
article.make-payment {
	div.payment-account {
		padding: 15px;
		border-bottom: 1px solid #d9d9d9;
	}
	div.payment-details {
		padding: 15px 15px 0 15px;
		.date-amount {
			width: 50%;
			.item {
				width: 45%;
			}
		}
		form .group .dollars {
				position: relative;
				margin-left: 15px;
				&:before {
					content: "$";
					color: #000;
					position: absolute;
					left: -12px;
					top: 42px;
				}
		}
		div.account-select{
			margin-bottom: 0px;
			div.add-account p {
				text-transform: uppercase;
				padding: 15px 0 0 0;
			}
		}
		div.new-account {
			margin-top: 10px;
			.payment-options {
				margin: 15px 0 25px 20px;
			}
		}
	}
}
article.payment-history {
	header {
		margin-bottom: 15px;
		h2 {
			display: inline-block;
		}
		ul {
			float: right;
			li {
				float: left;
				list-style-type: none;
				margin-left: 20px;
			}
		}
	}
	.content {
		padding-top: 0px;
	}
}
article.my-invoices {
	header {
		margin-bottom: 15px;
	}
	.content {
		padding-top: 0px;
	}
}
article.auth-forgot-password {
	.label { 
		@extend label;
	}
}
article.auth {
	margin: 20px 0;
	.social-login {
		@include layout-list;
		text-align: center;
		> li {
			display: inline-block;
		}
		@include breakpoint(small-medium) {
			> li {
				margin-bottom: 10px;
			}
		}
	}
	dt {
		font-weight: bold;
	}	
	dd {
		text-align: left;
	}
	@include breakpoint(small) {
		dl {
			dd {
				margin-bottom: 10px; 
			}
			dt, dd {
				float: none;
			}
		}
	}	
}
article.payments {
	margin: 20px 0;
	.advanced-settings {
		margin-top: 5px;
		select {
			width: auto;
		}
		& :last-child {
			margin-bottom: 0;
		}
		p {
			margin: 0;
			padding: 1em;
			background: #eee;
		}
	}
	.arrow-toggle {
		position: relative;
		padding-left: 14px;
		&:before {
			position: absolute;
			width: 0;
			height: 0;
			content: '';
			left: 0;
			top: 50%;
			margin-top: -5px;
			border-top: 5px solid transparent;
			border-left: 8px solid #0971ce;
			border-bottom: 5px solid transparent;
			 @include transform(rotate(90deg));
			 filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=1);
		}

		&.collapsed:before {
			@include transform(rotate(0deg));
			filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=4);
		}
	}
	.link-list {
		float: right;
		list-style-type: none;
		padding-left: 0;
		li {
			float: left;
			margin-left: 10px;
			padding-left: 10px;
			border-left: 1px solid #ccc;
			&:first-child {
				border-left: none;
				margin-left: 0;
				padding-left: 0;
			}
		}
		@include breakpoint(small) {
			float: none;
			li {
				float: none;
				margin: 0;
				padding: 0;
				border: none;
			}
		}
	}
	.payment-accounts-table {
		.nickname {
			width: 100%;
		}
		td:last-child {
			white-space: nowrap;
		}
	}
	.payment-options {
		margin: 15px 0 25px 20px;
	}
	.payment-total {
		dd {
			border-top: 1px solid #333;
		}
		dt, dd {
			padding-top: 15px;
		}

		@include breakpoint(small) {
			dd { 
				border-top: none;
				padding-top: 0;
			}
			dt { 
				border-top: 1px solid #333;
				padding-top: 20px;
			}
		}
	}
	img {
		max-width: 100%;
	}

	//Responsive table layout for payment account listing
	@include breakpoint(small) {
		table, thead, tbody, th, td, tr {
			display: block;
			padding: 0;
			background: transparent;
		}		
		table {
			clear: both;
			thead {
				position: absolute;
				top: -9999px;
				left: -9999px;
			}
			tr {
				border-top: 1px solid #ccc; 
			}			
			td {
				font-size: 16px;
				border: none;
				position: relative;
				padding: 8px 0;
				white-space: normal;
				text-align:left;
				&:before {
					content: attr(data-title);
					display: block;
					white-space: nowrap;
					text-align:left;
					font-weight: 600;
					text-transform: uppercase;	
				}
				&:first-child {
					padding-top: 20px;
				}
				&:last-child {
					padding-bottom: 20px;
				}				
			}
		}
	}	
}

/*ALL MODULES BELOW THIS ARE SIDEBAR MODULES*/
aside {
	article.promo { 
		@extend article.plain;
		@include border-radius(10px);
		margin-bottom: 20px;
		padding: 20px;
		background-repeat: no-repeat;
		background-size: cover;
		color: #fff;
		h1 {
			line-height: 1em;
			margin: 0;
		}
		button, .button {
			width: 100%;
			margin-top: 15px;
		}
		p {
			margin: 0;
		}
		&.renew {
			background-image: image-url('renew-promo.png');
		}
		&.paperless {
			background-image: image-url('paperless-promo.jpg');
			
			h1 {
				margin-top: 70px;
			}
		}
	}
	article.subnav {
		ul {
			list-style-type: none;
			margin: 0;
			padding: 0;

			> li {
				padding: 20px 15px;
				border-bottom: 1px solid #ddd;
				text-transform: uppercase;
				&.active a {		
					color: #333;
				}
			}
		}
	}
	article.grey-box {
		padding: 0;
		.active {
			background-color: #fff;
		}
		p {
			margin: 0;
			padding: 20px 15px;
			text-transform: uppercase;
		}
		p + p {
			border-top: 1px solid #ddd;
		}
	}
}