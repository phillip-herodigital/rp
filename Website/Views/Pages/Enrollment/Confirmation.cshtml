<div ng-controller="EnrollmentConfirmationCtrl" ng-init="setServerData(@(Html.Action("ClientData", "Enrollment").ToHtmlString()));">
    <div class="enrollment enrollment__order-confirmation">
        <section>
            <a class="print" href="" ng-click="onPrint()"><i class="icon-printer"></i>@Html.Sitecore().Field("Print")</a>
            <h1>@Html.Sitecore().Field("Order Confirmation")</h1>
            <p>@Html.Sitecore().Field("Confirmation Paragraph")</p>
            <p>@Html.Sitecore().Field("Confirmation Number")</p>

            <article class="verify-order enrollment__box">
                <div class="form content">
                    <div ng-repeat="(id, service) in getCartItems()">
                        <div class="item item--no-input">
                            <label for="service-address">@Html.Sitecore().Field("Service Address Label")</label>
                            <strong>{{ service.location.address | address }}</strong>
                        </div>
                        <hr />
                        <div ng-repeat="offerInformation in service.offerInformationByType" ng-show="offerInformation.value.offerSelections.length">
                            <div ng-include src="'serviceConfirmation/' + offerInformation.key"></div>
                        </div>
                        <hr class="content-divider" ng-if="getCartItems().length > 1 && !$last">
                    </div>
                    <hr class="content-divider">
                    <div class="total">
                        @Html.Sitecore().Field("Total Due Now") <strong>{{ getCartTotal() | currency }}</strong>
                    </div>                    
                </div>
            </article>

            <article class="enrollment__box">
                <header>
                    <h1>@Html.Sitecore().Field("Personal Information Header")</h1>                    
                </header>
                <div class="content">
                    <dl class="clearfix">
                        <dt>@Html.Sitecore().Field("First Name")</dt>
                        <dd>{{ accountInformation.contactInfo.name.first }}</dd>
                        <dt>@Html.Sitecore().Field("Last Name")</dt>
                        <dd>{{ accountInformation.contactInfo.name.last }}</dd>
                        <dt>@Html.Sitecore().Field("Phone Number")</dt>
                        <dd>{{ accountInformation.contactInfo.phone[0].number | phone }}</dd>
                        <dt>@Html.Sitecore().Field("Email")</dt>
                        <dd>{{ accountInformation.contactInfo.email.address }}</dd>
                    </dl>
                </div>
            </article>

            <article class="enrollment__box">
                <header>
                    <h1>@Html.Sitecore().Field("Next Steps Header")</h1>
                </header>
                <div class="promo-box horizontal content clearfix">
                    <h3>@Html.Sitecore().Field("Account Tour")</h3>
                    <div class="avatar">
                        <i class="icon-house"></i>
                    </div>
                    <p>@Html.Sitecore().Field("Login Paragraph")</p>
                    <p><a class="button" href="">@Html.Sitecore().Field("Take Tour")</a></p>
                </div>
            </article>
        </section>
    </div>
</div>

@*

Leaving this here for reference

<div class="enrollment-section order-confirmation">
    <a class="print"><i class="icon-printer"></i>@Html.Sitecore().Field("Print")</a>
    <h1>@Html.Sitecore().Field("Order Confirmation")</h1>
    <p>@Html.Sitecore().Field("Confirmation Paragraph")</p>
    <p>@Html.Sitecore().Field("Confirmation Number")</p>
    <article>
        <div class="content form">
            <div class="item">
                <span class="label" for="service-address">@Html.Sitecore().Field("Service Address Label")</span><br>
                <strong>123 Main Street, Dallas, TX 75001</strong>
            </div>
        </div>
    </article>
    <div class="alert warning">
        <p>@Html.Sitecore().Field("Alert Warning")</p>
    </div>
    <div class="alert notice">
        <p>@Html.Sitecore().Field("Alert Notice")</p>
    </div>

    <table class="plan-table">
        <tbody>
            <tr class="line-item noborder">
                <td class="description">
                    <h1>@Html.Sitecore().Field("Plan")</h1>
                </td>
                <td class="rate">
                    @Html.Sitecore().Field("Rate")
                </td>
            </tr>
            <tr class="line-item noborder secondary">
                <td class="description">
                    <h3>@Html.Sitecore().Field("Installation Fee")</h3>
                </td>
                <td class="rate">
                    @Html.Sitecore().Field("Installation Rate")
                </td>
            </tr>
            <tr class="line-item noborder secondary">
                <td class="description">
                    <h3>@Html.Sitecore().Field("Deposit Header")</h3>
                </td>
                <td class="rate">
                    @Html.Sitecore().Field("Deposit Rate")
                </td>
            </tr>
            <tr class="line-item noborder secondary plan-documents">
                <td class="description">
                    <h3>@Html.Sitecore().Field("Plan Documents Header")</h3>
                </td>
                <td class="docs">
                    <ul>
                        <li><a href="">@Html.Sitecore().Field("Document Electricity Facts")</a></li>
                        <li><a href="">@Html.Sitecore().Field("Document Terms of Service")</a></li>
                        <li><a href="">@Html.Sitecore().Field("Document Your Rights")</a></li>
                    </ul>
                </td>
            </tr>
        </tbody>
    </table>
    <h2>@Html.Sitecore().Field("Homelife Services Header")</h2>
    <table>
        <tbody>
            <tr class="line-item">
                <td class="description">
                    <h1>@Html.Sitecore().Field("Tech Support")</h1>
                    <p>@Html.Sitecore().Field("Appear On Bill")</p>
                </td>
                <td class="rate">
                    @Html.Sitecore().Field("Homelife Services Rate")
                </td>
            </tr>
        </tbody>
    </table>
    <h2>@Html.Sitecore().Field("Personal Information Header")</h2>
    <dl>
        <dt>@Html.Sitecore().Field("First Name")</dt>
        <dd>John</dd>
        <dt>@Html.Sitecore().Field("Last Name")</dt>
        <dd>Smith</dd>
        <dt>@Html.Sitecore().Field("Phone Number")</dt>
        <dd>123-456-7890</dd>
        <dt>@Html.Sitecore().Field("Email")</dt>
        <dd>john.smith@email.com</dd>
        <dt>@Html.Sitecore().Field("Billing Address")</dt>
        <dd>123 Main Street, Dallas, TX 75001</dd>
    </dl>
    <h2>@Html.Sitecore().Field("Next Steps Header")</h2>
    <article class="promo-box horizontal">
        <header>
            <h1>@Html.Sitecore().Field("Account Tour")</h1>
        </header>
        <div class="body">
            <div class="avatar">
                <i class="icon-house"></i>
            </div>
            <p>@Html.Sitecore().Field("Login Paragraph")</p>
            <p><a class="button" href="">@Html.Sitecore().Field("Take Tour")</a></p>
        </div>
    </article>
</div>
*@

<script type="text/ng-template" id="serviceConfirmation/TexasElectricity">
    <table class="verify-order-table">
        <tbody>
            <tr class="line-item" ng-repeat-start="selectedOffer in offerInformation.value.offerSelections">
                <td class="description"><h4>{{selectedOffer.offer.name}}</h4></td>
                <td class="rate">{{selectedOffer.offer.rate | currency}} kWh</td>
            </tr>
            <tr>
                <td class="sub-charge"><strong>@Html.Sitecore().Field("Installation Fee") ({{selectedOffer.offerOption.connectDate | date:'M/d/yyyy'}})</strong></td>
                <td class="rate"></td>
            </tr>
            <tr>
                <td class="sub-charge"><strong>@Html.Sitecore().Field("Deposit Header")</strong></td>
                <td class="rate">{{ selectedOffer.deposit.requiredAmount | currency }}</td>
            </tr>
            <tr class="plan-documents" ng-repeat-end>
                <td class="sub-charge"><strong>@Html.Sitecore().Field("Plan Documents Header")</strong></td>
                <td class="docs">
                    <ul>
                        <li><a href="">@Html.Sitecore().Field("Document Electricity Facts")</a></li>
                        <li><a href="">@Html.Sitecore().Field("Document Terms of Service")</a></li>
                        <li><a href="">@Html.Sitecore().Field("Document Your Rights")</a></li>
                    </ul>
                </td>
            </tr>
        </tbody>
    </table>
</script>
