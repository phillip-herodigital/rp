@model StreamEnergy.MyStream.Models.Marketing.Contact
@using System.Linq.Expressions;
@using StreamEnergy.Extensions;

@{
    var visitor = Sitecore.Analytics.Tracker.Current;

    var selectedTab = "";

    switch (visitor.Interaction.GeoData.Region)
    {
        case "TX":
            selectedTab = "texas";
            break;
        case "GA":
            selectedTab = "georgia";
            break;
        case "PA":
            selectedTab = "pennsylvania";
            break;
        case "MD":
            selectedTab = "maryland";
            break;
        case "NJ":
            selectedTab = "newjersey";
            break;
        case "NY":
            selectedTab = "newyork";
            break;
        case "DC":
            selectedTab = "washingtondc";
            break;
    }
}
<div>
    <article class="marketing contact">
        <div class="wrapper">
            @Html.Sitecore().Field("Intro Text")
            <div class="grid border four">
                <div class="col energy" ng-click="selectPane('mobile')">
                    @Html.Sitecore().Field("Energy Category")
                </div>
                <div class="col mobile" ng-click="selectPane('mobile')">
                    @Html.Sitecore().Field("Mobile Category")
                </div>
                <div class="col protective" ng-click="selectPane('protect')">
                    @Html.Sitecore().Field("Protective Category")
                </div>
                <div class="col home" ng-click="selectPane('home')">
                    @Html.Sitecore().Field("Home Category")
                </div>
            </div>
        </div>
    </article>
    <article class="marketing contact contact-info">
        <div class="wrapper">
            @Html.Sitecore().Field("Texas Energy Contact Information")
        </div>
    </article>
    <article class="marketing contact" ng-class="{ hidden : pane }">
        @Html.Sitecore().Field("Send Request Intro Text")
    </article>
    <article class="marketing contact" ng-class="{ hidden : pane }">
        <div class="request">
            <div class="wrapper">
                <h2>@Html.Sitecore().Field("Request Form Text")</h2>
                <p>@Html.Sitecore().Field("Required Text")</p>
                <form action="@Request.Url.AbsolutePath" method="post" name="Contact">
                    @Html.ValidationSummary()
                    <div class="grid">
                        <div class="col">
                            <div class="item" @Html.Validation().ErrorClass(model => model.StreamService)>
                                <label for="@Html.IdFor(m => m.Reason)">@Html.Sitecore().Field("Stream Service Text")</label>
                                <select data-val-required="@Html.Sitecore().Field("Stream Service Required")" data-val-length="" data-val-length-min="1" data-val-length-max="50" data-val="true" name="@Html.NameFor(m => m.StreamService)" id="@Html.IdFor(m => m.StreamService)" ng-model="streamService">
                                    @Html.Sitecore().Field("Stream Service Options")
                                </select>
                                <span class="asterisk">&#42;</span>
                            </div>
                            <div class="item" @Html.Validation().ErrorClass(model => model.ContactName.First)>
                                <label for="@Html.IdFor(m => m.ContactName.First)">@Html.Sitecore().Field("First Name Text")</label>
                                @Html.TextBoxFor(m => m.ContactName.First, new { ng_model = "firstName", placeholder = Html.Sitecore().Field("First Name Placeholder") })
                                <span class="asterisk">&#42;</span>
                            </div>
                            <div class="item" @Html.Validation().ErrorClass(model => model.ContactName.Last)>
                                <label for="@Html.IdFor(m => m.ContactName.Last)">@Html.Sitecore().Field("Last Name Text")</label>
                                @Html.TextBoxFor(m => m.ContactName.Last, new { ng_model = "lastname", placeholder = Html.Sitecore().Field("Last Name Placeholder") })
                                <span class="asterisk">&#42;</span>
                            </div>
                            <div class="item" @Html.Validation().ErrorClass(model => model.AddressLine1)>
                                <label for="@Html.IdFor(m => m.AddressLine1)">@Html.Sitecore().Field("Service Address Text")</label>
                                @Html.TextBoxFor(m => m.AddressLine1, new { ng_model = "address", data_val_if = "address", placeholder = Html.Sitecore().Field("Service Address Placeholder") })
                            </div>
                            <div class="group">
                                <div class="item" @Html.Validation().ErrorClass(model => model.City)>
                                    <label for="@Html.IdFor(m => m.City)">@Html.Sitecore().Field("City Text")</label>
                                    @Html.TextBoxFor(m => m.City, new { ng_model = "city", placeholder = Html.Sitecore().Field("City Placeholder") })
                                    <span class="asterisk">&#42;</span>
                                </div>
                                <div class="item" @Html.Validation().ErrorClass(model => model.StateAbbreviation)>
                                    <label for="@Html.IdFor(m => m.StateAbbreviation)">@Html.Sitecore().Field("State Text")</label>
                                    <select data-val-required="@Html.Sitecore().Field("State Required")" data-val="true" name="@Html.NameFor(m => m.StateAbbreviation)" id="@Html.IdFor(m => m.StateAbbreviation)" ng-model="state">
                                        @Html.Sitecore().Field("State Options")
                                    </select>
                                    <span class="asterisk">&#42;</span>
                                </div>
                            </div>
                            <div class="item half-width" @Html.Validation().ErrorClass(model => model.PostalCode5)>
                                <label for="@Html.IdFor(m => m.PostalCode5)">@Html.Sitecore().Field("Zip Code Text")</label>
                                @Html.TextBoxFor(m => m.PostalCode5, new { ng_model = "zipCode", placeholder = Html.Sitecore().Field("Zip Code Placeholder") })
                                <span class="asterisk">&#42;</span>
                            </div>
                        </div>
                        <div class="col">
                            <div class="item" @Html.Validation().ErrorClass(model => model.ContactPhone.Number)>
                                <label for="@Html.IdFor(m => m.ContactPhone.Number)">@Html.Sitecore().Field("Phone Text")</label>
                                @Html.TextBoxFor(m => m.ContactPhone.Number, new { ng_model = "phone", data_val_if = "phone", placeholder = Html.Sitecore().Field("Phone Placeholder") })
                            </div>
                            <div class="item" @Html.Validation().ErrorClass(model => model.ContactEmail.Address)>
                                <label for="@Html.IdFor(m => m.ContactEmail.Address)">@Html.Sitecore().Field("Email Text")</label>
                                @Html.TextBoxFor(m => m.ContactEmail.Address, new { ng_model = "email", placeholder = Html.Sitecore().Field("Email Placeholder"), type = "email" })
                                <span class="asterisk">&#42;</span>
                            </div>
                            <div class="item" @Html.Validation().ErrorClass(model => model.Reason)>
                                <label for="@Html.IdFor(m => m.Reason)">@Html.Sitecore().Field("Reason Text")</label>
                                <select data-val-required="@Html.Sitecore().Field("Reason Required")" data-val-length="" data-val-length-min="1" data-val-length-max="50" data-val="true" name="@Html.NameFor(m => m.Reason)" id="@Html.IdFor(m => m.Reason)" ng-model="reason">
                                    @Html.Sitecore().Field("Reason Options")
                                </select>
                                <span class="asterisk">&#42;</span>
                            </div>
                            <div class="item" @Html.Validation().ErrorClass(model => model.Comment)>
                                <label for="@Html.IdFor(m => m.Comment)">@Html.Sitecore().Field("Explain Text")</label>
                                @Html.TextAreaFor(m => m.Comment, new { ng_model = "comment", placeholder = Html.Sitecore().Field("Explain Placeholder") })
                                <span class="asterisk">&#42;</span>
                            </div>
                            <div class="submit">
                                <button type="submit" data-val-submit>@Html.Sitecore().Field("Send Button Text")</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        @if (Model != null && Model.ShowSuccessMessage)
        {
            <div class="success-message" id="success-message">
                <div class="wrapper">
                    <h2>@Html.Sitecore().Field("Thank You Text")</h2>
                    <h4>@Html.Sitecore().Field("Success Message Text")</h4>
                </div>
            </div>
        }

        <div class="associate-support">
            <div class="wrapper">
                <h1>@Html.Sitecore().Field("Associate Support Text")</h1>
                @Html.Sitecore().Field("Associate Support Content")
            </div>
        </div>
    </article>
