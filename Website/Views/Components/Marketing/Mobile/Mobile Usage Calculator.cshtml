@model StreamEnergy.MyStream.Models.Marketing.UsageCalculator
@using Sitecore.Mvc.Extensions

<article class="marketing mobile tabs mobile-plans-usage-calculator" ng-controller="MobileUsageCalculatorCtrl" ng-init="init(@(Html.Action("GetUsageCalculatorData", "Marketing").ToHtmlString()))">

    @{
        var item = Sitecore.Context.Database.GetItem("/sitecore/content/Data/Taxonomy/Modules/Mobile/Mobile Data Plans");
        var dataPlans = item.Children.Select(child => new
        {
            Name = child.Name.ToLower(),
            Plans = child.Children.Select(plans => new
            {
                ID = plans.ID.ToString(),
                PlanId = plans.Fields["Plan ID"].Value,
                data = plans.Fields["Data"].Value,
                price = plans.Fields["Price"].Value
            })
        });

        var planRecommendations = Sitecore.Context.Database.GetItem("/sitecore/content/Data/Taxonomy/Modules/Mobile/Plan Recommendations/Plan Recommendations");
        var attRecommendedConsumerPlanIds = planRecommendations.Fields["ATT Consumer Individual Plans"].Value;
        var sprintRecommendedConsumerPlanIds = planRecommendations.Fields["Sprint Consumer Individual Plans"].Value;
        var sprintRecommendedGroupPlanIds = planRecommendations.Fields["Sprint Consumer Group Plans"].Value;

        var attIndividualActivationFee = planRecommendations.Fields["ATT Consumer Individual Activation Fee"].Value;
        var attGroupActivationFee = planRecommendations.Fields["ATT Consumer Group Activation Fee"].Value;
        var attExtraLineFee = planRecommendations.Fields["ATT Extra Line Fee"].Value;
        var sprintIndividualActivationFee = planRecommendations.Fields["Sprint Consumer Individual Activation Fee"].Value;
        var sprintGroupActivationFee = planRecommendations.Fields["Sprint Consumer Group Activation Fee"].Value;
        var sprintExtraLineFee = planRecommendations.Fields["Sprint Extra Line Fee"].Value;

    }
    <script>

        var Carriers = [
            {
                key: "att",
                name: "@Html.Sitecore().Field("ATT")",
                fees: {
                    consumer: {
                        individual: {
                            activation: @attIndividualActivationFee
                            },
                        group: {
                            activation: @attGroupActivationFee,
                            extraLineFee: @attExtraLineFee
                            }
                    }
                }
            },
            {
                key: "sprint",
                name: "@Html.Sitecore().Field("Sprint")",
                fees: {
                    consumer: {
                        individual: {
                            activation: @sprintIndividualActivationFee
                            },
                        group: {
                            activation: @sprintGroupActivationFee,
                            extraLineFee: @sprintExtraLineFee
                            }
                    }
                }
            },
            {key: "verizon", name: "@Html.Sitecore().Field("Verizon")"},
            {key: "tmobile", name: "@Html.Sitecore().Field("Tmobile")"},
        ];

        var UsageCalculator = {
            tabs: [
                {
                    title: '@Html.Sitecore().Field("Connect Account Tab")',
                    url: 'connect.tpl.html'
                },
                {
                    title: '@Html.Sitecore().Field("Manually Enter Tab")',
                    url: 'manual.tpl.html'
                }
            ],
            currentTab: "@(Model.ShowBillScrape ? "connect.tpl.html" : "manual.tpl.html")",
            attRecommendedConsumerPlanIds:    '@attRecommendedConsumerPlanIds',
            sprintRecommendedConsumerPlanIds: '@sprintRecommendedConsumerPlanIds',
            sprintRecommendedGroupPlanIds:    '@sprintRecommendedGroupPlanIds'
        };

        var DataPlans = {
            plans: [
                @foreach (var carrierPlans in dataPlans)
                {
                    <text>{</text>
                        <text>carrier: '@carrierPlans.Name.ToLower()',</text>
                        <text>plans: [ </text>
                            foreach (var plan in @carrierPlans.Plans)
                            {
                                <text>{</text>
                                <text>id:      '@plan.ID',</text>
                                <text>planId:  '@plan.PlanId',</text>
                                <text>data:    '@plan.data',</text>
                                <text>price:    @plan.price</text>
                                <text>},</text>
                            }
                            <text>{blank: ''}</text>
                        <text>]</text>
                    <text>},</text>
                }
                {blank: ''}
            ]
        };


        DataPlans.plans.pop();
        for (var i=0; i < DataPlans.length; i++) {
            DataPlans.plans[i].plans.pop();
        }

    </script>

    <pre>{{ serverData | json }}</pre>

    <div class="wrapper">
        <h1>@Html.Sitecore().Field("Header")</h1>
        <div class="tab-wrapper">
            @if (Model.ShowBillScrape)
            {
                <ul class="tabbed-header">
                    <li class="tab"
                        ng-repeat="tab in tabs"
                        ng-class="{active:isActiveTab(tab.url)}"
                        ng-click="onClickTab(tab)">{{tab.title}}</li>
                </ul>
            }
            <div class="content" loading-indicator>
                <div ng-include="currentTab"></div>
            </div>
        </div>
        <script type="text/ng-template" id="connect.tpl.html">
            <div class="login" ng-show="!connected">
                <div class="selectCarrier clearfix">
                    <div class="selectCarrierText col pull-left">
                        <h4>@Html.Sitecore().Field("Select Carrier")</h4>
                        <p>@Html.Sitecore().Field("Select Carrier Text")</p>
                    </div>
                    <div class="col pull-right">
                        <ul class="network-toggle">
                            <li>
                                <a href="" ng-class="{active: connect.carrier == 'att'}" ng-click="selectCarrierConnect('att')">
                                    <i class="icon-att"></i>
                                </a>
                            </li>
                            <li>
                                <a href="" ng-class="{active: connect.carrier == 'sprint'}" ng-click="selectCarrierConnect('sprint')">
                                    <i class="icon-sprint"></i>
                                </a>
                            </li>
                            <li>
                                <a href="" ng-class="{active: connect.carrier == 'verizon'}" ng-click="selectCarrierConnect('verizon')">
                                    <i class="icon-verizon"></i>
                                </a>
                            </li>
                            <li>
                                <a href="" ng-class="{active: connect.carrier == 'tmobile'}" ng-click="selectCarrierConnect('tmobile')">
                                    <i class="icon-tmobile"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <form ng-if="connect.carrier" ng-submit="callValidas()" data-val-bind-messages="validations">
                    <div class="stretch loginFields">
                        @Html.Sitecore().Field("Log In Text")
                        <div class="notice error" ng-show="validasErrors" ng-cloak>
                            <p ng-repeat="error in validasErrors">{{ error }}</p>
                        </div>
                        @Html.ValidationSummary()
                        <div class="group">
                            <div class="item" @Html.Validation().ErrorClass(model => model.Username)>
                                <label for="@Html.IdFor(m => m.Username)">@Html.Sitecore().Field("Username")</label>
                                @Html.TextBoxFor(m => m.Username, new { ng_model = "connect.username" })
                                @Html.ValidationMessageFor(model => model.Username)
                                <span class="note">@Html.Sitecore().Field("Forgot Username Link", new { text = @Html.Sitecore().Field("Forgot Username") })</span>
                            </div>
                            <div class="item" @Html.Validation().ErrorClass(model => model.Password)>
                                <label for="@Html.IdFor(m => m.Password)">@Html.Sitecore().Field("Password")</label>
                                @Html.PasswordFor(m => m.Password, new { ng_model = "connect.password" })
                                @Html.ValidationMessageFor(model => model.Password)
                                <span class="note">@Html.Sitecore().Field("Forgot Password Link", new { text = @Html.Sitecore().Field("Forgot Password") })</span>
                            </div>
                            <div class="item">
                                <label>@Html.Sitecore().Field("Security Question")</label>
                                <input type="text" ng-model="connect.securityAnswer">
                                <span class="note">@Html.Sitecore().Field("Security Question Link", new { text = @Html.Sitecore().Field("Cant Remember Security Question") })</span>
                            </div>
                        </div>
                    </div>
                    <div class="buttons">
                        <div class="item pull-left">
                            <ul class="checkbox-list">
                                <li @Html.Validation().ErrorClass(m => m.AgreeToTerms)>
                                    @Html.CheckBoxFor(m => m.AgreeToTerms, new { ng_model = "connect.acceptTermsCheckbox" }) <label for="@Html.IdFor(m => m.AgreeToTerms)">@Html.Sitecore().Field("Agree text")</label>
                                </li>
                            </ul>
                        </div>
                        <button type="submit" data-val-submit>@Html.Sitecore().Field("Calculate Savings")</button>
                    </div>
                </form>
            </div>
            <div class="bill-scrape" ng-show="connected">

                <div class="grid message-table">
                    <div class="table-row">
                        <div class="table-cell">
                            @Html.Sitecore().Field("Success Message")
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            @Html.Sitecore().Field("Were Showing")
                            <strong>
                                <span ng-bind="connect.validas.phoneLines"></span>
                                <span ng-show="connect.validas.phoneLines == 1">@Html.Sitecore().Field("Line")</span>
                                <span ng-show="connect.validas.phoneLines > 1">@Html.Sitecore().Field("Lines")</span>
                            </strong>
                            @Html.Sitecore().Field("Averaged")
                            <strong><span ng-bind="(connect.validas.averageMonthlyData/1024).toFixed(1)"></span>GB</strong>@Html.Sitecore().Field("Per Month")
                            @Html.Sitecore().Field("At A Price Of")
                            <strong>$<span ng-bind="connect.validas.averageMonthlyCost.toFixed(2)"></span></strong>@Html.Sitecore().Field("Per Month").
                            <a href='#' ng-click="resetConnect()">@Html.Sitecore().Field("Login With A Different Account")</a>
                        </div>
                    </div>
                </div>

                <div class="grid savingsAnalysis">
                    <h3>@Html.Sitecore().Field("Savings Analysis")</h3>
                </div>
                <div class="stretch">
                    <div class="plan-table">
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Network Provider")
                            </div>
                            <div class="table-cell current-plan">
                                <i class="icon-{{ connect.validas.network }}"></i>
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                <div class="mobile-poweredBy">
                                    <img alt="Stream" src="/frontend/assets/i/marketing/redesign/stream_logo.png">
                                    <span>powered by: <strong>@Html.Sitecore().Field("Sprint") </strong></span>
                                </div>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                <div class="mobile-poweredBy">
                                    <img alt="Stream" src="/frontend/assets/i/marketing/redesign/stream_logo.png">
                                    <span>powered by: <strong>@Html.Sitecore().Field("ATT") </strong></span>
                                </div>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Phone Lines")
                            </div>
                            <div class="table-cell current-plan">
                                <span ng-bind="connect.validas.phoneLines"></span>
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                <span ng-bind="connect.validas.phoneLines"></span>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                <span ng-bind="connect.validas.phoneLines"></span>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Monthly Data")
                            </div>
                            <div class="table-cell current-plan">
                                <span ng-bind="(connect.validas.averageMonthlyData / 1024).toFixed(1)"></span> GB
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                <span ng-bind="getSprintRecommendation().data"></span> GB
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                <span ng-bind="getAttRecommendation().data"></span> GB
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Text And Talk")
                            </div>
                            <div class="table-cell current-plan">-</div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                @Html.Sitecore().Field("Unlimited")
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                @Html.Sitecore().Field("Unlimited")
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Monthly Cost")
                            </div>
                            <div class="table-cell current-plan">
                                $<span ng-bind="connect.validas.averageMonthlyCost.toFixed(2)"></span>
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                $<span ng-bind="getSprintRecommendation().price.toFixed(2)"></span>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                $<span ng-bind="getAttRecommendation().price.toFixed(2)"></span>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Total Cost of ownership over")
                                <select ng-model="formData.selectedTimeframe" ng-options="item.months as item.label for item in timeframe"></select><br />
                                <a href="" class="hideBreakdown" ng-click="showBreakdown = !showBreakdown">
                                    <span ng-if="showBreakdown">@Html.Sitecore().Field("hide breakdown")</span>
                                    <span ng-if="!showBreakdown">@Html.Sitecore().Field("show breakdown")</span>
                                </a>
                            </div>
                            <div class="table-cell tco current-plan">
                                <span class="bar" ng-style="{'height': getTCOHeight('currentPlan') }" ng-bind="calculateTCO('currentPlan') | currency"></span>
                            </div>
                            <div class="table-cell tco" ng-show="hasSprintRecommendation()">
                                <span class="savings" ng-show="calculateTCO('currentPlan') > calculateTCO('sprint')"><span ng-bind="calculateTCO('currentPlan') - calculateTCO('sprint') | currency"></span> @Html.Sitecore().Field("Savings")</span><br />
                                <span class="bar" ng-style="{'height': getTCOHeight('sprint') }" ng-bind="calculateTCO('sprint') | currency"></span>
                            </div>
                            <div class="table-cell tco" ng-show="hasAttRecommendation()">
                                <span class="savings" ng-show="calculateTCO('currentPlan') > calculateTCO('att')"><span ng-bind="calculateTCO('currentPlan') - calculateTCO('att') | currency"></span> @Html.Sitecore().Field("Savings")</span><br />
                                <span class="bar" ng-style="{'height': getTCOHeight('att') }" ng-bind="calculateTCO('att') | currency"></span>
                            </div>
                        </div>
                        <div class="table-row" ng-show="showBreakdown">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Early Termination Fee")
                            </div>
                            <div class="table-cell current-plan">-</div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                $<span ng-bind="connect.validas.totalEtf.toFixed(2)"></span>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                $<span ng-bind="connect.validas.totalEtf.toFixed(2)"></span>
                            </div>
                        </div>
                        <div class="table-row" ng-show="showBreakdown">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Leased Device Payoff Fee")
                            </div>
                            <div class="table-cell current-plan">-</div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                $<span ng-bind="connect.validas.leasedPayoffFee.toFixed(2)"></span>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                $<span ng-bind="connect.validas.leasedPayoffFee.toFixed(2)"></span>
                            </div>
                        </div>
                        <div class="table-row" ng-show="showBreakdown">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Activation Fee")
                            </div>
                            <div class="table-cell current-plan">-</div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                <div class="activationFee" ng-show="connect.validas.phoneLines == 1">
                                    $<span ng-bind="sprint().fees.consumer.individual.activation"></span>
                                </div>
                                <div class="activationFee" ng-show="connect.validas.phoneLines > 1">
                                    $<span ng-bind="(connect.validas.phoneLines * sprint().fees.consumer.group.activation)"></span>
                                    ( <span ng-bind="connect.validas.phoneLines"></span> @Html.Sitecore().Field("Lines") )
                                </div>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                <div class="activationFee" ng-show="connect.validas.phoneLines == 1">
                                    $<span ng-bind="att().fees.consumer.individual.activation"></span>
                                </div>
                                <div class="activationFee" ng-show="connect.validas.phoneLines > 1">
                                    $<span ng-bind="(connect.validas.phoneLines * att().fees.consumer.group.activation)"></span>
                                    ( <span ng-bind="connect.validas.phoneLines"></span> @Html.Sitecore().Field("Lines") )
                                </div>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Plan Selection")
                            </div>
                            <div class="table-cell current-plan">
                                <span class="currentPlan">@Html.Sitecore().Field("Current Plan")</span>
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                <a ng-href="/enrollment?ServiceType=Mob&amp;mobilePlanId={{getAttRecommendation().planId}}" class="button">@Html.Sitecore().Field("Select Sprint Plan")</a>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                <a ng-href="/enrollment?ServiceType=Mob&amp;mobilePlanId={{getSprintRecommendation().planId}}" class="button">@Html.Sitecore().Field("Select ATT Plan")</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="trade-and-save stretch">
                    @Html.Sitecore().Field("Phone Trade In Text")
                </div>
            </div>
        </script>

        <script type="text/ng-template" id="manual.tpl.html">
            <div class="manual-calculator">
                <h4>@Html.Sitecore().Field("Use Calculator Text")</h4>
                <div class="grid">
                    <div class="col left clearfix">
                        <div class="icon pull-left">
                            <i class="icon-device"></i>
                        </div>
                        <div class="pull-left">
                            @Html.Sitecore().Field("Number of Phone Lines")
                        </div>
                    </div>
                    <div class="col right numLines">
                        <div class="button lineButton" ng-class="{active: manualCalculator.lines == 1}" ng-click="setLines(1)">1</div>
                        <div class="button lineButton" ng-class="{active: manualCalculator.lines == 2}" ng-click="setLines(2)">2</div>
                        <div class="button lineButton" ng-class="{active: manualCalculator.lines == 3}" ng-click="setLines(3)">3</div>
                        <div class="button lineButton" ng-class="{active: manualCalculator.lines == 4}" ng-click="setLines(4)">4</div>
                        <div class="button lineButton" ng-class="{active: manualCalculator.lines == 5}" ng-click="setLines(5)">5</div>
                        <div class="button lineButton" ng-class="{active: manualCalculator.lines == 6}" ng-click="setLines(6)">6</div>
                    </div>
                </div>
                <div class="grid">
                    <div class="col left clearfix">
                        <div class="icon pull-left">
                            <i class="icon-email-small"></i>
                        </div>
                        <div class="pull-left">
                            @Html.Sitecore().Field("Emails Sent Received")<br />
                            @Html.Sitecore().Field("No Attachments Text")
                        </div>
                    </div>
                    <div class="col right">
                        <div class="slider" ui-slider="sliderOptions" ng-model="manualCalculator.emails"></div>
                        <div class="sliderLabels">
                            <span class="none">@Html.Sitecore().Field("None Text")</span>
                            <span class="some">@Html.Sitecore().Field("Some Text")</span>
                            <span class="alot">@Html.Sitecore().Field("A Lot Text")</span>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <div class="col left clearfix">
                        <div class="icon pull-left">
                            <i class="icon-picture"></i>
                        </div>
                        <div class="pull-left">
                            @Html.Sitecore().Field("Uploaded Pictures")<br />
                            @Html.Sitecore().Field("Posting Pictures Text")
                        </div>
                    </div>
                    <div class="col right">
                        <div class="slider" ui-slider="sliderOptions" ng-model="manualCalculator.pictures"></div>
                        <div class="sliderLabels">
                            <span class="none">@Html.Sitecore().Field("None Text")</span>
                            <span class="some">@Html.Sitecore().Field("Some Text")</span>
                            <span class="alot">@Html.Sitecore().Field("A Lot Text")</span>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <div class="col left clearfix">
                        <div class="icon pull-left">
                            <i class="icon-music"></i>
                        </div>
                        <div class="pull-left">
                            @Html.Sitecore().Field("Streaming Music")<br />
                            @Html.Sitecore().Field("Music Services Text")
                        </div>
                    </div>
                    <div class="col right">
                        <div class="slider" ui-slider="sliderOptions" ng-model="manualCalculator.music"></div>
                        <div class="sliderLabels">
                            <span class="none">@Html.Sitecore().Field("None Text")</span>
                            <span class="some">@Html.Sitecore().Field("Some Text")</span>
                            <span class="alot">@Html.Sitecore().Field("A Lot Text")</span>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <div class="col left clearfix">
                        <div class="icon pull-left">
                            <i class="icon-video"></i>
                        </div>
                        <div class="pull-left">
                            @Html.Sitecore().Field("Stream Video")<br />
                            @Html.Sitecore().Field("Stream Services Text")
                        </div>
                    </div>
                    <div class="col right">
                        <div class="slider" ui-slider="sliderOptions" ng-model="manualCalculator.video"></div>
                        <div class="sliderLabels">
                            <span class="none">@Html.Sitecore().Field("None Text")</span>
                            <span class="some">@Html.Sitecore().Field("Some Text")</span>
                            <span class="alot">@Html.Sitecore().Field("A Lot Text")</span>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <div class="col left clearfix">
                        <div class="icon pull-left">
                            <i class="icon-web"></i>
                        </div>
                        <div class="pull-left">
                            @Html.Sitecore().Field("Web Surfing")<br />
                            @Html.Sitecore().Field("Web Pages Text")
                        </div>
                    </div>
                    <div class="col right">
                        <div class="slider" ui-slider="sliderOptions" ng-model="manualCalculator.surfing"></div>
                        <div class="sliderLabels">
                            <span class="none">@Html.Sitecore().Field("None Text")</span>
                            <span class="some">@Html.Sitecore().Field("Some Text")</span>
                            <span class="alot">@Html.Sitecore().Field("A Lot Text")</span>
                        </div>
                    </div>
                </div>
                <div class="suggestion row">
                    <span class="suggestionText">@Html.Sitecore().Field("Based on your estimated usage")</span>
                    <div class="estimatedData">
                        <div class="frame">
                            <div class="recommended" ng-style="{width: calculatorRecommendationInPct() + '%'}" ng-show="calculatorTotalInGB(10) > 0">
                                <span class="label">@Html.Sitecore().Field("Recommended Data")</span>
                            </div>
                            <div class="estimate" ng-style="{width: calculatorTotalInPct() + '%'}"></div>
                            <div class="estimatedDataLabel" ng-style="{left: estimateLabelLeft() + 'px'}">
                                @Html.Sitecore().Field("Estimated Usage"): <span ng-bind="calculatorTotalInGB(10)"></span>GB
                            </div>
                        </div>
                        <div class="dataLabels">
                            <div class="dataLabel">
                                0GB
                            </div>
                            <div class="dataLabel">
                                2GB
                            </div>
                            <div class="dataLabel">
                                4GB
                            </div>
                            <div class="dataLabel">
                                6GB
                            </div>
                            <div class="dataLabel">
                                8GB
                                <span class="pull-right">
                                    @Html.Sitecore().Field("Unlimited")
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="stretch">
                    <div class="plan-table">
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Network Provider")
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                <div class="mobile-poweredBy">
                                    <img alt="Stream" src="/frontend/assets/i/marketing/redesign/stream_logo.png">
                                    <span>powered by: <strong>@Html.Sitecore().Field("Sprint") </strong></span>
                                </div>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                <div class="mobile-poweredBy">
                                    <img alt="Stream" src="/frontend/assets/i/marketing/redesign/stream_logo.png">
                                    <span>powered by: <strong>@Html.Sitecore().Field("ATT") </strong></span>
                                </div>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Coverage Map")
                            </div>
                            <div class="table-cell label" ng-show="hasSprintRecommendation()">
                                <div class="col coverageMap">
                                    <img src="https://placehold.it/200x80">
                                </div>
                                <div class="coverageMapLink">
                                    <span>
                                        @Html.Sitecore().Field("Nationwide CDMA Network")
                                        <a href="#">@Html.Sitecore().Field("Launch Coverage Map")</a>
                                </div>
                            </div>
                            <div class="table-cell label" ng-show="hasAttRecommendation()">
                                <div class="col coverageMap">
                                    <img src="https://placehold.it/200x80">
                                </div>
                                <div class="coverageMapLink">
                                    <span>
                                        @Html.Sitecore().Field("Nationwide GSM Network")
                                        <a href="#">@Html.Sitecore().Field("Launch Coverage Map")</a>
                                </div>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Phone Lines")
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                <span ng-bind="manualCalculator.lines"></span>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                <span ng-bind="manualCalculator.lines"></span>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Monthly Data")
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                <div ng-show="getSprintRecommendation().data < 1000000">
                                    <span ng-bind="getSprintRecommendation().data"></span> GB
                                </div>
                                <div ng-show="getSprintRecommendation().data == 1000000">
                                    @Html.Sitecore().Field("Unlimited")
                                </div>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                <div ng-show="getAtttRecommendation().data < 1000000">
                                    <span ng-bind="getAttRecommendation().data"></span> GB
                                </div>
                                <div ng-show="getAtttRecommendation().data == 1000000">
                                    @Html.Sitecore().Field("Unlimited")
                                </div>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Text And Talk")
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                @Html.Sitecore().Field("Unlimited")
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                @Html.Sitecore().Field("Unlimited")
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Monthly Cost")
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                $<span ng-bind="getSprintRecommendation().price"></span>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                $<span ng-bind="getAttRecommendation().price"></span>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell label">
                                @Html.Sitecore().Field("Plan Selection")
                            </div>
                            <div class="table-cell" ng-show="hasSprintRecommendation()">
                                <a ng-href="/enrollment?ServiceType=Mob&amp;mobilePlanId={{getAttRecommendation().planId}}" class="button">@Html.Sitecore().Field("Select Sprint Plan")</a>
                            </div>
                            <div class="table-cell" ng-show="hasAttRecommendation()">
                                <a ng-href="/enrollment?ServiceType=Mob&amp;mobilePlanId={{getSprintRecommendation().planId}}" class="button">@Html.Sitecore().Field("Select ATT Plan")</a>
                            </div>
                            @*
                                <div class="table-cell" ng-show="hasSprintRecommendation()">
                                    <a href="" class="button" ng-click="selectPlan('sprint')">@Html.Sitecore().Field("Select Sprint Plan")</a>
                                </div>
                                <div class="table-cell" ng-show="hasAttRecommendation()">
                                    <a href="" class="button" ng-click="selectPlan('att')">@Html.Sitecore().Field("Select ATT Plan")</a>
                                </div>
                            *@
                        </div>
                    </div>
                </div>
            </div>
        </script>
    </div>
</article>