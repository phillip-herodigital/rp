@model StreamEnergy.MyStream.Models.Account.UpdateNotificationSettingsRequest

<article class="grey-box notification-settings" ng-controller="AcctNotificationSettingsCtrl">
    <form>
        <header>
            <h2>@Html.Sitecore().Field("Notification Settings Text")</h2>
        </header>
        <div class="content" loading-indicator>
            <div ng-show="successMessage">
                <div class="notice success">
                    @Html.Sitecore().Field("Success Message Text")
                </div>
                <hr class="content-divider" />
            </div>
            <div ng-show="preferenceSuccessMessage">
                <div class="notice success" ng-show="preferenceSuccessMessage">
                    @Html.Sitecore().Field("Save Preference Success Message Text")
                </div>
                <hr class="content-divider" />
            </div>
            <div class="edit-preferences">
                <div class="additional-fields">
                    <div class="preference">
                        <div class="preference-type">
                            @Html.Sitecore().Field("Select Notifications Text")
                            <span class="preference-label">
                                <i class="icon-notification-email"></i> @Html.Sitecore().Field("Email Text")
                            </span>
                        </div>
                    </div>
                    <hr class="content-divider" />
                    <div class="additional-fields">
                        <div class="item">
                            <ul class="checkbox-list notification-list">
                                <li>
                                    <label for="@Html.IdFor(m => m.NewDocumentArrives.Email)">@Html.Sitecore().Field("New Document Arrives Text")</label>
                                    @Html.CheckBoxFor(m => m.NewDocumentArrives.Email, new { ng_model = "formData.newDocumentArrives.email" })
                                </li>
                                <li>
                                    <label for="@Html.IdFor(m => m.OnlinePaymentsMade.Email)">@Html.Sitecore().Field("Online Payments Text")</label>
                                    @Html.CheckBoxFor(m => m.OnlinePaymentsMade.Email, new { ng_model = "formData.onlinePaymentsMade.email" })
                                </li>
                                <li>
                                    <label for="@Html.IdFor(m => m.RecurringPaymentsMade.Email)">@Html.Sitecore().Field("Recurring Payments Text")</label>
                                    @Html.CheckBoxFor(m => m.RecurringPaymentsMade.Email, new { ng_model = "formData.recurringPaymentsMade.email" })
                                </li>
                                <li>
                                    <label for="@Html.IdFor(m => m.RecurringProfileExpires.Email)">@Html.Sitecore().Field("Recurring Profile Text")</label>
                                    @Html.CheckBoxFor(m => m.RecurringProfileExpires.Email, new { ng_model = "formData.recurringProfileExpires.email" })
                                </li>
                            </ul>
                        </div>
                        
                    </div>
                </div>
            </div>

            @*
            <div ng-show="preferenceSuccessMessage">
                <div class="notice success" ng-show="preferenceSuccessMessage">
                    @Html.Sitecore().Field("Save Preference Success Message Text")
                </div>
                <hr class="content-divider" />
            </div>
            <div class="edit-preferences">
                <div class="additional-fields" additional-fields>
                    <div class="preference">
                        <span class="preference-type">
                            @Html.Sitecore().Field("New Document Arrives Text")
                            <span ng-show="formDataOriginal.newDocumentArrives.web" class="label"><i class="icon-notification-bell"></i> @Html.Sitecore().Field("Web Text")</span>
                            <span ng-show="formDataOriginal.newDocumentArrives.email" class="label"><i class="icon-notification-email"></i> @Html.Sitecore().Field("Email Text")</span>
                            <span ng-show="formDataOriginal.newDocumentArrives.sms" class="label"><i class="icon-notification-sms"></i> @Html.Sitecore().Field("SMS Text")</span>
                        </span>
                        <a ng-click="toggleFields()" ng-class="{'collapsed': !isOpen}" href="" class="additional-field-action">@Html.Sitecore().Field("Edit Link Text")</a>
                    </div>
                    <div class="additional-field-group additional-fields">
                        <p>@Html.Sitecore().Field("Delivery Methods Text")</p>
                        <div class="item">
                            <ul class="checkbox-list notification-list">
                                <li>
                                    @Html.CheckBoxFor(m => m.NewDocumentArrives.Web, new { ng_model="formData.newDocumentArrives.web" })
                                    <label for="@Html.IdFor(m => m.NewDocumentArrives.Web)"><i class="icon-notification-bell"></i> @Html.Sitecore().Field("Web Text")</label>
                                </li>
                                <li>
                                    @Html.CheckBoxFor(m => m.NewDocumentArrives.Email, new { ng_model = "formData.newDocumentArrives.email" })
                                    <label for="@Html.IdFor(m => m.NewDocumentArrives.Email)"><i class="icon-notification-email"></i> @Html.Sitecore().Field("Email Text")</label>
                                </li>
                                <li>
                                    @Html.CheckBoxFor(m => m.NewDocumentArrives.Sms, new { ng_model = "formData.newDocumentArrives.sms" })
                                    <label for="@Html.IdFor(m => m.NewDocumentArrives.Sms)"><i class="icon-notification-sms"></i> @Html.Sitecore().Field("SMS Text")</label>
                                </li>
                            </ul>
                        </div>
                        <div class="item">
                            <div class="buttons">
                                <button class="secondary" ng-click="cancelPreference(formData.newDocumentArrives, formDataOriginal.newDocumentArrives); toggleFields()">@Html.Sitecore().Field("Cancel Button Text")</button>
                                <button ng-click="updateNotification(newDocumentArrives, formData.newDocumentArrives, formDataOriginal.newDocumentArrives); toggleFields()">@Html.Sitecore().Field("Save Preference Button Text")</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr class="content-divider" />
            <div class="edit-preferences">
                <div class="additional-fields" additional-fields>
                    <div class="preference">
                        <span class="preference-type">
                            @Html.Sitecore().Field("Online Payments Text")
                            <span ng-show="formDataOriginal.onlinePaymentsMade.web" class="label"><i class="icon-notification-bell"></i> @Html.Sitecore().Field("Web Text")</span>
                            <span ng-show="formDataOriginal.onlinePaymentsMade.email" class="label"><i class="icon-notification-email"></i> @Html.Sitecore().Field("Email Text")</span>
                            <span ng-show="formDataOriginal.onlinePaymentsMade.sms" class="label"><i class="icon-notification-sms"></i> @Html.Sitecore().Field("SMS Text")</span>
                        </span>
                        <a ng-click="toggleFields()" ng-class="{'collapsed': !isOpen}" href="" class="additional-field-action">@Html.Sitecore().Field("Edit Link Text")</a>
                    </div>
                    <div class="additional-field-group additional-fields">
                        <p>@Html.Sitecore().Field("Delivery Methods Text")</p>
                        <div class="item">
                            <ul class="checkbox-list notification-list">
                                <li>
                                    @Html.CheckBoxFor(m => m.OnlinePaymentsMade.Web, new { ng_model = "formData.onlinePaymentsMade.web" })
                                    <label for="@Html.IdFor(m => m.OnlinePaymentsMade.Web)"><i class="icon-notification-bell"></i> @Html.Sitecore().Field("Web Text")</label>
                                </li>
                                <li>
                                    @Html.CheckBoxFor(m => m.OnlinePaymentsMade.Email, new { ng_model = "formData.onlinePaymentsMade.email" })
                                    <label for="@Html.IdFor(m => m.OnlinePaymentsMade.Email)"><i class="icon-notification-email"></i> @Html.Sitecore().Field("Email Text")</label>
                                </li>
                                <li>
                                    @Html.CheckBoxFor(m => m.OnlinePaymentsMade.Sms, new { ng_model = "formData.onlinePaymentsMade.sms" })
                                    <label for="@Html.IdFor(m => m.OnlinePaymentsMade.Sms)"><i class="icon-notification-sms"></i> @Html.Sitecore().Field("SMS Text")</label>
                                </li>
                            </ul>
                        </div>
                        <div class="item">
                            <div class="buttons">
                                <button class="secondary" ng-click="cancelPreference(formData.onlinePaymentsMade, formDataOriginal.onlinePaymentsMade); toggleFields()">@Html.Sitecore().Field("Cancel Button Text")</button>
                                <button ng-click="updateNotification(onlinePaymentsMade, formData.onlinePaymentsMade, formDataOriginal.onlinePaymentsMade); toggleFields()">@Html.Sitecore().Field("Save Preference Button Text")</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr class="content-divider" />
            <div class="edit-preferences">
                <div class="additional-fields" additional-fields>
                    <div class="preference">
                        <span class="preference-type">
                            @Html.Sitecore().Field("Recurring Payments Text")
                            <span ng-show="formDataOriginal.recurringPaymentsMade.web" class="label"><i class="icon-notification-bell"></i> @Html.Sitecore().Field("Web Text")</span>
                            <span ng-show="formDataOriginal.recurringPaymentsMade.email" class="label"><i class="icon-notification-email"></i> @Html.Sitecore().Field("Email Text")</span>
                            <span ng-show="formDataOriginal.recurringPaymentsMade.sms" class="label"><i class="icon-notification-sms"></i> @Html.Sitecore().Field("SMS Text")</span>
                        </span>
                        <a ng-click="toggleFields()" ng-class="{'collapsed': !isOpen}" href="" class="additional-field-action">@Html.Sitecore().Field("Edit Link Text")</a>
                    </div>
                    <div class="additional-field-group additional-fields">
                        <p>@Html.Sitecore().Field("Delivery Methods Text")</p>
                        <div class="item">
                            <ul class="checkbox-list notification-list">
                                <li>
                                    @Html.CheckBoxFor(m => m.RecurringPaymentsMade.Web, new { ng_model = "formData.recurringPaymentsMade.web" })
                                    <label for="@Html.IdFor(m => m.RecurringPaymentsMade.Web)"><i class="icon-notification-bell"></i> @Html.Sitecore().Field("Web Text")</label>
                                </li>
                                <li>
                                    @Html.CheckBoxFor(m => m.RecurringPaymentsMade.Email, new { ng_model = "formData.recurringPaymentsMade.email" })
                                    <label for="@Html.IdFor(m => m.RecurringPaymentsMade.Email)"><i class="icon-notification-email"></i> @Html.Sitecore().Field("Email Text")</label>
                                </li>
                                <li>
                                    @Html.CheckBoxFor(m => m.RecurringPaymentsMade.Sms, new { ng_model = "formData.recurringPaymentsMade.sms" })
                                    <label for="@Html.IdFor(m => m.RecurringPaymentsMade.Sms)"><i class="icon-notification-sms"></i> @Html.Sitecore().Field("SMS Text")</label>
                                </li>
                            </ul>
                        </div>
                        <div class="item">
                            <div class="buttons">
                                <button class="secondary" ng-click="cancelPreference(formData.recurringPaymentsMade, formDataOriginal.recurringPaymentsMade); toggleFields()">@Html.Sitecore().Field("Cancel Button Text")</button>
                                <button ng-click="updateNotification(recurringPaymentsMade, formData.recurringPaymentsMade, formDataOriginal.recurringPaymentsMade); toggleFields()">@Html.Sitecore().Field("Save Preference Button Text")</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr class="content-divider" />
            <div class="edit-preferences">
                <div class="additional-fields" additional-fields>
                    <div class="preference">
                        <span class="preference-type">
                            @Html.Sitecore().Field("Recurring Profile Text")
                            <span ng-show="formDataOriginal.recurringProfileExpires.web" class="label"><i class="icon-notification-bell"></i> @Html.Sitecore().Field("Web Text")</span>
                            <span ng-show="formDataOriginal.recurringProfileExpires.email" class="label"><i class="icon-notification-email"></i> @Html.Sitecore().Field("Email Text")</span>
                            <span ng-show="formDataOriginal.recurringProfileExpires.sms" class="label"><i class="icon-notification-sms"></i> @Html.Sitecore().Field("SMS Text")</span>
                        </span>
                        <a ng-click="toggleFields()" ng-class="{'collapsed': !isOpen}" href="" class="additional-field-action">@Html.Sitecore().Field("Edit Link Text")</a>
                    </div>
                    <div class="additional-field-group additional-fields">
                        <p>@Html.Sitecore().Field("Delivery Methods Text")</p>
                        <div class="item">
                            <ul class="checkbox-list notification-list">
                                <li>
                                    @Html.CheckBoxFor(m => m.RecurringProfileExpires.Web, new { ng_model = "formData.recurringProfileExpires.web" })
                                    <label for="@Html.IdFor(m => m.RecurringProfileExpires.Web)"><i class="icon-notification-bell"></i> @Html.Sitecore().Field("Web Text")</label>
                                </li>
                                <li>
                                    @Html.CheckBoxFor(m => m.RecurringProfileExpires.Email, new { ng_model = "formData.recurringProfileExpires.email" })
                                    <label for="@Html.IdFor(m => m.RecurringProfileExpires.Email)"><i class="icon-notification-email"></i> @Html.Sitecore().Field("Email Text")</label>
                                </li>
                                <li>
                                    @Html.CheckBoxFor(m => m.RecurringProfileExpires.Sms, new { ng_model = "formData.recurringProfileExpires.sms" })
                                    <label for="@Html.IdFor(m => m.RecurringProfileExpires.Sms)"><i class="icon-notification-sms"></i> @Html.Sitecore().Field("SMS Text")</label>
                                </li>
                            </ul>
                        </div>
                        <div class="item">
                            <div class="buttons">
                                <button class="secondary" ng-click="cancelPreference(formData.recurringProfileExpires, formDataOriginal.recurringProfileExpires); toggleFields()">@Html.Sitecore().Field("Cancel Button Text")</button>
                                <button ng-click="updateNotification(recurringProfileExpires, formData.recurringProfileExpires, formDataOriginal.recurringProfileExpires); toggleFields()">@Html.Sitecore().Field("Save Preference Button Text")</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            *@

            <hr class="content-divider" />
            <div class="edit-preferences">
                <div class="item">
                    <ul class="checkbox-list">
                        <li>
                            @Html.CheckBoxFor(m => m.PrintedInvoices, new { ng_model = "formData.printedInvoices" })
                            <label for="@Html.IdFor(m => m.PrintedInvoices)">@Html.Sitecore().Field("Printed Invoices Text")</label>
                        </li>
                        <li>
                            @Html.CheckBoxFor(m => m.PromoOptIn, new { ng_model = "formData.promoOptIn" })
                            <label for="@Html.IdFor(m => m.PromoOptIn)">@Html.Sitecore().Field("Promotional Offers Text")</label>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <footer>
            <div class="buttons">
                <button ng-click="updateNotificationSettings()">@Html.Sitecore().Field("Save Button Text")</button>
            </div>
        </footer>
    </form>
</article>
